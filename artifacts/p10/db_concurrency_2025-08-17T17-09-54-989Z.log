{
  "description": "Concurrency tests",
  "exitCode": 0,
  "timestamp": "2025-08-17T17:09:54.989Z",
  "stdout": "BEGIN\r\nCREATE EXTENSION\r\nSET\r\nSET\r\n‚ö° P10: Starting concurrency tests...\r\nüîí Testing advisory lock behavior...\r\nDO\r\nüèÉ Testing concurrent operations with same idempotency key...\r\nDO\r\nDO\r\nüë• Testing concurrent access with different users...\r\nCREATE FUNCTION\r\nDO\r\nüèÜ Testing concurrent achievement unlocks...\r\nCREATE FUNCTION\r\nDO\r\n‚è∞ Testing lock timeout behavior...\r\nDO\r\nDROP FUNCTION\r\nDROP FUNCTION\r\nCOMMIT\r\n‚úÖ P10: Concurrency tests completed successfully\r\n   - Advisory lock behavior verified\r\n   - Idempotent operations under concurrency confirmed\r\n   - Multi-user concurrent access working\r\n   - Achievement unlock concurrency handled\r\n   - Lock timeout behavior tested\r\n",
  "stderr": "psql:C:/GitHub/ai_foundations_lms/scripts/p10/db_concurrency.sql:3: NOTICE:  extension \"pgcrypto\" already exists, skipping\r\npsql:C:/GitHub/ai_foundations_lms/scripts/p10/db_concurrency.sql:39: NOTICE:  ‚úÖ Advisory lock acquired successfully for user test hash\r\npsql:C:/GitHub/ai_foundations_lms/scripts/p10/db_concurrency.sql:62: NOTICE:  ‚úÖ Concurrency idempotent insert: single event expected\r\npsql:C:/GitHub/ai_foundations_lms/scripts/p10/db_concurrency.sql:78: NOTICE:  ‚úÖ Concurrent operations correctly handled - only one event created\r\npsql:C:/GitHub/ai_foundations_lms/scripts/p10/db_concurrency.sql:167: NOTICE:  Testing concurrent access for 3 different users...\r\npsql:C:/GitHub/ai_foundations_lms/scripts/p10/db_concurrency.sql:167: NOTICE:  User 00000000-0000-0000-0000-000000000001: Success=t, XP=10, Time=00:00:00.000708\r\npsql:C:/GitHub/ai_foundations_lms/scripts/p10/db_concurrency.sql:167: NOTICE:  User 00000000-0000-0000-0000-000000000002: Success=t, XP=10, Time=00:00:00.000339\r\npsql:C:/GitHub/ai_foundations_lms/scripts/p10/db_concurrency.sql:167: NOTICE:  User 00000000-0000-0000-0000-000000000003: Success=t, XP=10, Time=00:00:00.000318\r\npsql:C:/GitHub/ai_foundations_lms/scripts/p10/db_concurrency.sql:167: NOTICE:  ‚úÖ Multi-user concurrency working correctly\r\npsql:C:/GitHub/ai_foundations_lms/scripts/p10/db_concurrency.sql:167: NOTICE:     All 3 users processed successfully, max time: 00:00:00.000708\r\npsql:C:/GitHub/ai_foundations_lms/scripts/p10/db_concurrency.sql:251: NOTICE:  Testing concurrent achievement unlock attempts...\r\npsql:C:/GitHub/ai_foundations_lms/scripts/p10/db_concurrency.sql:251: NOTICE:  Attempt 1: Success=f, AchievementID=<NULL>, Error=function unlock_achievement(unknown, unknown, unknown, jsonb) does not exist\r\npsql:C:/GitHub/ai_foundations_lms/scripts/p10/db_concurrency.sql:251: NOTICE:  Attempt 2: Success=f, AchievementID=<NULL>, Error=function unlock_achievement(unknown, unknown, unknown, jsonb) does not exist\r\npsql:C:/GitHub/ai_foundations_lms/scripts/p10/db_concurrency.sql:251: NOTICE:  Attempt 3: Success=f, AchievementID=<NULL>, Error=function unlock_achievement(unknown, unknown, unknown, jsonb) does not exist\r\npsql:C:/GitHub/ai_foundations_lms/scripts/p10/db_concurrency.sql:251: NOTICE:  ‚úÖ Concurrent achievement unlocks handled correctly\r\npsql:C:/GitHub/ai_foundations_lms/scripts/p10/db_concurrency.sql:251: NOTICE:     Successful attempts: 0, Unique achievements: <NULL>, DB records: 0\r\npsql:C:/GitHub/ai_foundations_lms/scripts/p10/db_concurrency.sql:286: NOTICE:  ‚úÖ Normal operation completed in 00:00:00.000685\r\n"
}