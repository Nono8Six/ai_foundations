{
  "description": "EXPLAIN ANALYZE collection",
  "exitCode": 3,
  "timestamp": "2025-08-17T17:10:17.454Z",
  "stdout": "üìã P10: Collecting EXPLAIN ANALYZE for key RPC functions...\r\nüîç Analyzing credit_xp function...\r\n=====================================;\r\n                                                                              QUERY PLAN                                                                               \r\n-----------------------------------------------------------------------------------------------------------------------------------------------------------------------\r\n Result  (cost=0.00..0.26 rows=1 width=32) (actual time=1.062..1.062 rows=1 loops=1)\r\n   Output: credit_xp('00000000-0000-0000-0000-000000000001'::uuid, 'lesson:completion'::text, 50, 'explain-credit-xp-test'::text, NULL::uuid, NULL::text, '{}'::jsonb)\r\n   Buffers: shared hit=343\r\n Query Identifier: -2722577134236380289\r\n Planning Time: 0.027 ms\r\n Execution Time: 1.081 ms\r\n(6 rows)\r\n\r\n;\r\nüîç Analyzing get_active_xp_sources function...\r\n==============================================;\r\n                                         QUERY PLAN                                          \r\n---------------------------------------------------------------------------------------------\r\n ProjectSet  (cost=0.00..5.27 rows=1000 width=32) (actual time=0.189..0.220 rows=24 loops=1)\r\n   Output: get_active_xp_sources(now())\r\n   Buffers: shared hit=2\r\n   ->  Result  (cost=0.00..0.01 rows=1 width=0) (actual time=0.001..0.001 rows=1 loops=1)\r\n Query Identifier: -1125711535403011146\r\n Planning Time: 0.025 ms\r\n Execution Time: 0.249 ms\r\n(7 rows)\r\n\r\n;\r\nüîç Analyzing compute_level_info function...\r\n===========================================;\r\n                                         QUERY PLAN                                         \r\n--------------------------------------------------------------------------------------------\r\n ProjectSet  (cost=0.00..5.27 rows=1000 width=32) (actual time=0.308..0.313 rows=1 loops=1)\r\n   Output: compute_level_info(150)\r\n   Buffers: shared hit=4\r\n   ->  Result  (cost=0.00..0.01 rows=1 width=0) (actual time=0.001..0.001 rows=1 loops=1)\r\n Query Identifier: -6337873644889589703\r\n Planning Time: 0.022 ms\r\n Execution Time: 0.337 ms\r\n(7 rows)\r\n\r\n;\r\nüîç Analyzing unlock_achievement function...\r\n==========================================;\r\n",
  "stderr": "psql:C:/GitHub/ai_foundations_lms/scripts/p10/collect_explain.sql:50: ERROR:  column \"achievement_code\" does not exist\r\nLINE 3:     AND achievement_code = p_code \r\n                ^\r\nQUERY:  SELECT id                               FROM public.user_achievements\r\n  WHERE user_id = p_user_id \r\n    AND achievement_code = p_code \r\n    AND achievement_version = p_version\r\n    AND idempotency_key = p_idempotency_key\r\nCONTEXT:  PL/pgSQL function unlock_achievement(uuid,text,integer,text,text,uuid) line 41 at SQL statement\r\npsql:C:/GitHub/ai_foundations_lms/scripts/p10/collect_explain.sql:50: STATEMENT:  EXPLAIN (ANALYZE, BUFFERS, VERBOSE, FORMAT TEXT)\r\nSELECT unlock_achievement(\r\n  '00000000-0000-0000-0000-000000000001',\r\n  'P10_FIRST_LESSON',\r\n  1,\r\n  'explain-achievement-test',\r\n  NULL,\r\n  '30000000-0000-0000-0000-000000000001'\r\n);\r\n"
}