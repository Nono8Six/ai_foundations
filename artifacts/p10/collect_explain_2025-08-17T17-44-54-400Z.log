{
  "description": "EXPLAIN ANALYZE collection",
  "exitCode": 3,
  "timestamp": "2025-08-17T17:44:54.400Z",
  "stdout": "üìã P10: Collecting EXPLAIN ANALYZE for key RPC functions...\r\nüîç Analyzing credit_xp function...\r\n=====================================;\r\n                                                                              QUERY PLAN                                                                               \r\n-----------------------------------------------------------------------------------------------------------------------------------------------------------------------\r\n Result  (cost=0.00..0.26 rows=1 width=32) (actual time=2.955..2.955 rows=1 loops=1)\r\n   Output: credit_xp('00000000-0000-0000-0000-000000000001'::uuid, 'lesson:completion'::text, 50, 'explain-credit-xp-test'::text, NULL::uuid, NULL::text, '{}'::jsonb)\r\n   Buffers: shared hit=355\r\n Query Identifier: -2722577134236380289\r\n Planning Time: 0.026 ms\r\n Execution Time: 2.972 ms\r\n(6 rows)\r\n\r\n;\r\nüîç Analyzing get_active_xp_sources function...\r\n==============================================;\r\n                                         QUERY PLAN                                          \r\n---------------------------------------------------------------------------------------------\r\n ProjectSet  (cost=0.00..5.27 rows=1000 width=32) (actual time=0.190..0.218 rows=24 loops=1)\r\n   Output: get_active_xp_sources(now())\r\n   Buffers: shared hit=2\r\n   ->  Result  (cost=0.00..0.01 rows=1 width=0) (actual time=0.001..0.001 rows=1 loops=1)\r\n Query Identifier: -1125711535403011146\r\n Planning Time: 0.026 ms\r\n Execution Time: 0.246 ms\r\n(7 rows)\r\n\r\n;\r\nüîç Analyzing compute_level_info function...\r\n===========================================;\r\n                                         QUERY PLAN                                         \r\n--------------------------------------------------------------------------------------------\r\n ProjectSet  (cost=0.00..5.27 rows=1000 width=32) (actual time=0.294..0.299 rows=1 loops=1)\r\n   Output: compute_level_info(150)\r\n   Buffers: shared hit=4\r\n   ->  Result  (cost=0.00..0.01 rows=1 width=0) (actual time=0.001..0.002 rows=1 loops=1)\r\n Query Identifier: -6337873644889589703\r\n Planning Time: 0.024 ms\r\n Execution Time: 0.324 ms\r\n(7 rows)\r\n\r\n;\r\nüîç Analyzing unlock_achievement function...\r\n===========================================;\r\n",
  "stderr": "psql:C:/GitHub/ai_foundations_lms/scripts/p10/collect_explain.sql:50: ERROR:  Type de condition non support√©: total_xp\r\nCONTEXT:  PL/pgSQL function unlock_achievement(uuid,text,integer,text,text,uuid) line 107 at RAISE\r\npsql:C:/GitHub/ai_foundations_lms/scripts/p10/collect_explain.sql:50: STATEMENT:  EXPLAIN (ANALYZE, BUFFERS, VERBOSE, FORMAT TEXT)\r\nSELECT unlock_achievement(\r\n  '00000000-0000-0000-0000-000000000002',\r\n  'P10_XP_100',\r\n  1,\r\n  'explain-unlock-achievement-test',\r\n  NULL,\r\n  NULL\r\n);\r\n"
}