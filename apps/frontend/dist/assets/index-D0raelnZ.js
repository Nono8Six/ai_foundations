import{r as o,a as e,I as n,b as A,L as X,q as B,l as k}from"./index-BEJWkrpI.js";const $=({videoUrl:N,transcript:p,onProgress:f})=>{const c=o.useRef(null),[m,d]=o.useState(!1),[h,l]=o.useState(0),[v,g]=o.useState(0),[s,a]=o.useState(1),[j,w]=o.useState(1),[i,D]=o.useState(!0),[H,u]=o.useState(!1),[r,x]=o.useState(!1);o.useEffect(()=>{const t=c.current;if(!t)return;const b=()=>l(t.currentTime),E=()=>g(t.duration),y=()=>{if(v>0){const P=t.currentTime/v*100;f(P)}};return t.addEventListener("timeupdate",b),t.addEventListener("timeupdate",y),t.addEventListener("loadedmetadata",E),()=>{t.removeEventListener("timeupdate",b),t.removeEventListener("timeupdate",y),t.removeEventListener("loadedmetadata",E)}},[v,f]);const G=()=>{const t=c.current;t&&(m?t.pause():t.play(),d(!m))},C=t=>{const b=c.current;if(!b)return;const E=t.currentTarget.getBoundingClientRect(),y=(t.clientX-E.left)/E.width;b.currentTime=y*v},T=t=>{const b=parseFloat(t.target.value);a(b);const E=c.current;E&&(E.volume=b)},L=t=>{w(t);const b=c.current;b&&(b.playbackRate=t)},V=t=>{const b=Math.floor(t/60),E=Math.floor(t%60);return`${b}:${E.toString().padStart(2,"0")}`},_=t=>{const b=c.current;b&&(b.currentTime=Math.max(0,Math.min(v,b.currentTime+t)))};return e.jsxDEV("div",{className:"flex flex-col lg:flex-row h-full",children:[e.jsxDEV("div",{className:"flex-1 bg-black relative group",children:[e.jsxDEV("video",{ref:c,src:N??void 0,className:"w-full h-full object-contain",onPlay:()=>d(!0),onPause:()=>d(!1),onMouseEnter:()=>D(!0),onMouseLeave:()=>D(!1)},void 0,!1,{fileName:"/mnt/c/GitHub/ai_foundations_lms/apps/frontend/src/pages/lesson-viewer/components/VideoPlayer.tsx",lineNumber:98,columnNumber:9},void 0),e.jsxDEV("div",{className:`absolute inset-0 bg-gradient-to-t from-black/50 to-transparent transition-opacity duration-300 ${i?"opacity-100":"opacity-0"}`,children:[e.jsxDEV("div",{className:"absolute inset-0 flex items-center justify-center",children:e.jsxDEV("button",{onClick:G,className:"w-16 h-16 bg-white/20 backdrop-blur-sm rounded-full flex items-center justify-center hover:bg-white/30 transition-colors",children:e.jsxDEV(n,{name:m?"Pause":"Play",size:24,color:"white","aria-label":m?"Mettre en pause":"Lire"},void 0,!1,{fileName:"/mnt/c/GitHub/ai_foundations_lms/apps/frontend/src/pages/lesson-viewer/components/VideoPlayer.tsx",lineNumber:118,columnNumber:15},void 0)},void 0,!1,{fileName:"/mnt/c/GitHub/ai_foundations_lms/apps/frontend/src/pages/lesson-viewer/components/VideoPlayer.tsx",lineNumber:114,columnNumber:13},void 0)},void 0,!1,{fileName:"/mnt/c/GitHub/ai_foundations_lms/apps/frontend/src/pages/lesson-viewer/components/VideoPlayer.tsx",lineNumber:113,columnNumber:11},void 0),e.jsxDEV("div",{className:"absolute bottom-0 left-0 right-0 p-4",children:[e.jsxDEV("div",{className:"w-full h-2 bg-white/20 rounded-full cursor-pointer mb-4",onClick:C,children:e.jsxDEV("div",{className:"h-full bg-primary rounded-full transition-all duration-150",style:{width:`${h/v*100}%`}},void 0,!1,{fileName:"/mnt/c/GitHub/ai_foundations_lms/apps/frontend/src/pages/lesson-viewer/components/VideoPlayer.tsx",lineNumber:134,columnNumber:15},void 0)},void 0,!1,{fileName:"/mnt/c/GitHub/ai_foundations_lms/apps/frontend/src/pages/lesson-viewer/components/VideoPlayer.tsx",lineNumber:130,columnNumber:13},void 0),e.jsxDEV("div",{className:"flex items-center justify-between",children:[e.jsxDEV("div",{className:"flex items-center space-x-4",children:[e.jsxDEV("button",{onClick:G,className:"text-white hover:text-primary transition-colors",children:e.jsxDEV(n,{name:m?"Pause":"Play",size:20,"aria-label":m?"Mettre en pause":"Lire"},void 0,!1,{fileName:"/mnt/c/GitHub/ai_foundations_lms/apps/frontend/src/pages/lesson-viewer/components/VideoPlayer.tsx",lineNumber:147,columnNumber:19},void 0)},void 0,!1,{fileName:"/mnt/c/GitHub/ai_foundations_lms/apps/frontend/src/pages/lesson-viewer/components/VideoPlayer.tsx",lineNumber:143,columnNumber:17},void 0),e.jsxDEV("button",{onClick:()=>_(-10),className:"text-white hover:text-primary transition-colors",children:e.jsxDEV(n,{name:"RotateCcw",size:20,"aria-label":"Reculer de 10 secondes"},void 0,!1,{fileName:"/mnt/c/GitHub/ai_foundations_lms/apps/frontend/src/pages/lesson-viewer/components/VideoPlayer.tsx",lineNumber:158,columnNumber:19},void 0)},void 0,!1,{fileName:"/mnt/c/GitHub/ai_foundations_lms/apps/frontend/src/pages/lesson-viewer/components/VideoPlayer.tsx",lineNumber:154,columnNumber:17},void 0),e.jsxDEV("button",{onClick:()=>_(10),className:"text-white hover:text-primary transition-colors",children:e.jsxDEV(n,{name:"RotateCw",size:20,"aria-label":"Avancer de 10 secondes"},void 0,!1,{fileName:"/mnt/c/GitHub/ai_foundations_lms/apps/frontend/src/pages/lesson-viewer/components/VideoPlayer.tsx",lineNumber:165,columnNumber:19},void 0)},void 0,!1,{fileName:"/mnt/c/GitHub/ai_foundations_lms/apps/frontend/src/pages/lesson-viewer/components/VideoPlayer.tsx",lineNumber:161,columnNumber:17},void 0),e.jsxDEV("div",{className:"flex items-center space-x-2",children:[e.jsxDEV(n,{"aria-hidden":"true",name:"Volume2",size:16,color:"white"},void 0,!1,{fileName:"/mnt/c/GitHub/ai_foundations_lms/apps/frontend/src/pages/lesson-viewer/components/VideoPlayer.tsx",lineNumber:169,columnNumber:19},void 0),e.jsxDEV("input",{type:"range",min:"0",max:"1",step:"0.1",value:s,onChange:T,className:"w-20"},void 0,!1,{fileName:"/mnt/c/GitHub/ai_foundations_lms/apps/frontend/src/pages/lesson-viewer/components/VideoPlayer.tsx",lineNumber:170,columnNumber:19},void 0)]},void 0,!0,{fileName:"/mnt/c/GitHub/ai_foundations_lms/apps/frontend/src/pages/lesson-viewer/components/VideoPlayer.tsx",lineNumber:168,columnNumber:17},void 0),e.jsxDEV("span",{className:"text-white text-sm",children:[V(h)," / ",V(v)]},void 0,!0,{fileName:"/mnt/c/GitHub/ai_foundations_lms/apps/frontend/src/pages/lesson-viewer/components/VideoPlayer.tsx",lineNumber:181,columnNumber:17},void 0)]},void 0,!0,{fileName:"/mnt/c/GitHub/ai_foundations_lms/apps/frontend/src/pages/lesson-viewer/components/VideoPlayer.tsx",lineNumber:142,columnNumber:15},void 0),e.jsxDEV("div",{className:"flex items-center space-x-4",children:[e.jsxDEV("div",{className:"relative group",children:[e.jsxDEV("button",{className:"text-white hover:text-primary transition-colors text-sm",children:[j,"x"]},void 0,!0,{fileName:"/mnt/c/GitHub/ai_foundations_lms/apps/frontend/src/pages/lesson-viewer/components/VideoPlayer.tsx",lineNumber:189,columnNumber:19},void 0),e.jsxDEV("div",{className:"absolute bottom-full right-0 mb-2 bg-black/80 backdrop-blur-sm rounded-lg p-2 opacity-0 group-hover:opacity-100 transition-opacity",children:[.5,.75,1,1.25,1.5,2].map(t=>e.jsxDEV("button",{onClick:()=>L(t),className:`block w-full text-left px-3 py-1 text-sm rounded hover:bg-white/20 transition-colors ${j===t?"text-primary":"text-white"}`,children:[t,"x"]},t,!0,{fileName:"/mnt/c/GitHub/ai_foundations_lms/apps/frontend/src/pages/lesson-viewer/components/VideoPlayer.tsx",lineNumber:194,columnNumber:23},void 0))},void 0,!1,{fileName:"/mnt/c/GitHub/ai_foundations_lms/apps/frontend/src/pages/lesson-viewer/components/VideoPlayer.tsx",lineNumber:192,columnNumber:19},void 0)]},void 0,!0,{fileName:"/mnt/c/GitHub/ai_foundations_lms/apps/frontend/src/pages/lesson-viewer/components/VideoPlayer.tsx",lineNumber:188,columnNumber:17},void 0),e.jsxDEV("button",{onClick:()=>x(!r),className:`transition-colors ${r?"text-primary":"text-white hover:text-primary"}`,children:e.jsxDEV(n,{name:"Captions",size:20,"aria-label":"Sous-titres"},void 0,!1,{fileName:"/mnt/c/GitHub/ai_foundations_lms/apps/frontend/src/pages/lesson-viewer/components/VideoPlayer.tsx",lineNumber:211,columnNumber:19},void 0)},void 0,!1,{fileName:"/mnt/c/GitHub/ai_foundations_lms/apps/frontend/src/pages/lesson-viewer/components/VideoPlayer.tsx",lineNumber:207,columnNumber:17},void 0),e.jsxDEV("button",{onClick:()=>u(!H),className:`transition-colors ${H?"text-primary":"text-white hover:text-primary"}`,children:e.jsxDEV(n,{name:"FileText",size:20,"aria-label":"Transcription"},void 0,!1,{fileName:"/mnt/c/GitHub/ai_foundations_lms/apps/frontend/src/pages/lesson-viewer/components/VideoPlayer.tsx",lineNumber:218,columnNumber:19},void 0)},void 0,!1,{fileName:"/mnt/c/GitHub/ai_foundations_lms/apps/frontend/src/pages/lesson-viewer/components/VideoPlayer.tsx",lineNumber:214,columnNumber:17},void 0),e.jsxDEV("button",{className:"text-white hover:text-primary transition-colors",children:e.jsxDEV(n,{name:"Maximize",size:20,"aria-label":"Plein écran"},void 0,!1,{fileName:"/mnt/c/GitHub/ai_foundations_lms/apps/frontend/src/pages/lesson-viewer/components/VideoPlayer.tsx",lineNumber:222,columnNumber:19},void 0)},void 0,!1,{fileName:"/mnt/c/GitHub/ai_foundations_lms/apps/frontend/src/pages/lesson-viewer/components/VideoPlayer.tsx",lineNumber:221,columnNumber:17},void 0)]},void 0,!0,{fileName:"/mnt/c/GitHub/ai_foundations_lms/apps/frontend/src/pages/lesson-viewer/components/VideoPlayer.tsx",lineNumber:186,columnNumber:15},void 0)]},void 0,!0,{fileName:"/mnt/c/GitHub/ai_foundations_lms/apps/frontend/src/pages/lesson-viewer/components/VideoPlayer.tsx",lineNumber:141,columnNumber:13},void 0)]},void 0,!0,{fileName:"/mnt/c/GitHub/ai_foundations_lms/apps/frontend/src/pages/lesson-viewer/components/VideoPlayer.tsx",lineNumber:128,columnNumber:11},void 0)]},void 0,!0,{fileName:"/mnt/c/GitHub/ai_foundations_lms/apps/frontend/src/pages/lesson-viewer/components/VideoPlayer.tsx",lineNumber:109,columnNumber:9},void 0),r&&e.jsxDEV("div",{className:"absolute bottom-20 left-1/2 transform -translate-x-1/2 bg-black/80 backdrop-blur-sm text-white px-4 py-2 rounded-lg text-center max-w-md",children:e.jsxDEV("p",{className:"text-sm",children:"Les réseaux de neurones sont l’épine dorsale de l’intelligence artificielle moderne."},void 0,!1,{fileName:"/mnt/c/GitHub/ai_foundations_lms/apps/frontend/src/pages/lesson-viewer/components/VideoPlayer.tsx",lineNumber:232,columnNumber:13},void 0)},void 0,!1,{fileName:"/mnt/c/GitHub/ai_foundations_lms/apps/frontend/src/pages/lesson-viewer/components/VideoPlayer.tsx",lineNumber:231,columnNumber:11},void 0)]},void 0,!0,{fileName:"/mnt/c/GitHub/ai_foundations_lms/apps/frontend/src/pages/lesson-viewer/components/VideoPlayer.tsx",lineNumber:97,columnNumber:7},void 0),H&&e.jsxDEV("div",{className:"w-full lg:w-80 bg-surface border-l border-border flex flex-col",children:[e.jsxDEV("div",{className:"p-4 border-b border-border flex items-center justify-between",children:[e.jsxDEV("h3",{className:"font-semibold text-text-primary",children:"Transcription"},void 0,!1,{fileName:"/mnt/c/GitHub/ai_foundations_lms/apps/frontend/src/pages/lesson-viewer/components/VideoPlayer.tsx",lineNumber:243,columnNumber:13},void 0),e.jsxDEV("button",{onClick:()=>u(!1),className:"p-1 hover:bg-secondary-50 rounded transition-colors",children:e.jsxDEV(n,{name:"X",size:16,"aria-label":"Fermer la transcription"},void 0,!1,{fileName:"/mnt/c/GitHub/ai_foundations_lms/apps/frontend/src/pages/lesson-viewer/components/VideoPlayer.tsx",lineNumber:248,columnNumber:15},void 0)},void 0,!1,{fileName:"/mnt/c/GitHub/ai_foundations_lms/apps/frontend/src/pages/lesson-viewer/components/VideoPlayer.tsx",lineNumber:244,columnNumber:13},void 0)]},void 0,!0,{fileName:"/mnt/c/GitHub/ai_foundations_lms/apps/frontend/src/pages/lesson-viewer/components/VideoPlayer.tsx",lineNumber:242,columnNumber:11},void 0),e.jsxDEV("div",{className:"flex-1 overflow-auto p-4",children:e.jsxDEV("div",{className:"prose prose-sm max-w-none",children:e.jsxDEV("p",{className:"text-text-secondary leading-relaxed whitespace-pre-line",children:p},void 0,!1,{fileName:"/mnt/c/GitHub/ai_foundations_lms/apps/frontend/src/pages/lesson-viewer/components/VideoPlayer.tsx",lineNumber:254,columnNumber:15},void 0)},void 0,!1,{fileName:"/mnt/c/GitHub/ai_foundations_lms/apps/frontend/src/pages/lesson-viewer/components/VideoPlayer.tsx",lineNumber:253,columnNumber:13},void 0)},void 0,!1,{fileName:"/mnt/c/GitHub/ai_foundations_lms/apps/frontend/src/pages/lesson-viewer/components/VideoPlayer.tsx",lineNumber:252,columnNumber:11},void 0)]},void 0,!0,{fileName:"/mnt/c/GitHub/ai_foundations_lms/apps/frontend/src/pages/lesson-viewer/components/VideoPlayer.tsx",lineNumber:241,columnNumber:9},void 0)]},void 0,!0,{fileName:"/mnt/c/GitHub/ai_foundations_lms/apps/frontend/src/pages/lesson-viewer/components/VideoPlayer.tsx",lineNumber:95,columnNumber:5},void 0)},M=({content:N,onProgress:p})=>{const f=o.useRef(null),[c,m]=o.useState(0),[d,h]=o.useState([]),[l,v]=o.useState("base"),[g,s]=o.useState("light");o.useEffect(()=>{const u=()=>{const x=f.current;if(!x)return;const G=x.scrollTop,C=x.scrollHeight-x.clientHeight,T=C>0?G/C*100:0;m(T),p(T)},r=f.current;if(r)return r.addEventListener("scroll",u),()=>r.removeEventListener("scroll",u)},[p]);const a=()=>{const u=f.current;if(!u)return;const r=u.scrollTop,x={id:Date.now(),position:r,timestamp:new Date().toISOString(),preview:"Signet ajouté"};h([...d,x])},j=u=>{const r=f.current;r&&r.scrollTo({top:u.position,behavior:"smooth"})},w=u=>{h(d.filter(r=>r.id!==u))},i={sm:"text-sm",base:"text-base",lg:"text-lg",xl:"text-xl"},D={light:"bg-surface text-text-primary",dark:"bg-secondary-800 text-white",sepia:"bg-amber-50 text-amber-900"},H=u=>u.split(`
`).map((r,x)=>r.startsWith("# ")?e.jsxDEV("h1",{className:"text-3xl font-bold mb-6 text-text-primary",children:r.slice(2)},x,!1,{fileName:"/mnt/c/GitHub/ai_foundations_lms/apps/frontend/src/pages/lesson-viewer/components/TextContent.tsx",lineNumber:88,columnNumber:11},void 0):r.startsWith("## ")?e.jsxDEV("h2",{className:"text-2xl font-semibold mb-4 text-text-primary",children:r.slice(3)},x,!1,{fileName:"/mnt/c/GitHub/ai_foundations_lms/apps/frontend/src/pages/lesson-viewer/components/TextContent.tsx",lineNumber:95,columnNumber:11},void 0):r.startsWith("### ")?e.jsxDEV("h3",{className:"text-xl font-semibold mb-3 text-text-primary",children:r.slice(4)},x,!1,{fileName:"/mnt/c/GitHub/ai_foundations_lms/apps/frontend/src/pages/lesson-viewer/components/TextContent.tsx",lineNumber:102,columnNumber:11},void 0):r.startsWith("- ")?e.jsxDEV("li",{className:"mb-2",children:r.slice(2)},x,!1,{fileName:"/mnt/c/GitHub/ai_foundations_lms/apps/frontend/src/pages/lesson-viewer/components/TextContent.tsx",lineNumber:109,columnNumber:11},void 0):r.match(/^\d+\./)?e.jsxDEV("li",{className:"mb-2",children:r.replace(/^\d+\.\s*/,"")},x,!1,{fileName:"/mnt/c/GitHub/ai_foundations_lms/apps/frontend/src/pages/lesson-viewer/components/TextContent.tsx",lineNumber:116,columnNumber:11},void 0):r.trim()===""?e.jsxDEV("div",{className:"mb-4"},x,!1,{fileName:"/mnt/c/GitHub/ai_foundations_lms/apps/frontend/src/pages/lesson-viewer/components/TextContent.tsx",lineNumber:122,columnNumber:16},void 0):e.jsxDEV("p",{className:"mb-4 leading-relaxed",children:r},x,!1,{fileName:"/mnt/c/GitHub/ai_foundations_lms/apps/frontend/src/pages/lesson-viewer/components/TextContent.tsx",lineNumber:125,columnNumber:9},void 0));return e.jsxDEV("div",{className:"h-full flex flex-col",children:[e.jsxDEV("div",{className:"bg-surface border-b border-border p-4 flex items-center justify-between",children:[e.jsxDEV("div",{className:"flex items-center space-x-4",children:[e.jsxDEV("div",{className:"flex items-center space-x-2",children:[e.jsxDEV(n,{"aria-hidden":"true",name:"Type",size:16,className:"text-text-secondary"},void 0,!1,{fileName:"/mnt/c/GitHub/ai_foundations_lms/apps/frontend/src/pages/lesson-viewer/components/TextContent.tsx",lineNumber:138,columnNumber:13},void 0),e.jsxDEV("select",{value:l,onChange:u=>v(u.target.value),className:"text-sm border border-border rounded px-2 py-1 bg-surface",children:[e.jsxDEV("option",{value:"sm",children:"Petit"},void 0,!1,{fileName:"/mnt/c/GitHub/ai_foundations_lms/apps/frontend/src/pages/lesson-viewer/components/TextContent.tsx",lineNumber:144,columnNumber:15},void 0),e.jsxDEV("option",{value:"base",children:"Normal"},void 0,!1,{fileName:"/mnt/c/GitHub/ai_foundations_lms/apps/frontend/src/pages/lesson-viewer/components/TextContent.tsx",lineNumber:145,columnNumber:15},void 0),e.jsxDEV("option",{value:"lg",children:"Grand"},void 0,!1,{fileName:"/mnt/c/GitHub/ai_foundations_lms/apps/frontend/src/pages/lesson-viewer/components/TextContent.tsx",lineNumber:146,columnNumber:15},void 0),e.jsxDEV("option",{value:"xl",children:"Très grand"},void 0,!1,{fileName:"/mnt/c/GitHub/ai_foundations_lms/apps/frontend/src/pages/lesson-viewer/components/TextContent.tsx",lineNumber:147,columnNumber:15},void 0)]},void 0,!0,{fileName:"/mnt/c/GitHub/ai_foundations_lms/apps/frontend/src/pages/lesson-viewer/components/TextContent.tsx",lineNumber:139,columnNumber:13},void 0)]},void 0,!0,{fileName:"/mnt/c/GitHub/ai_foundations_lms/apps/frontend/src/pages/lesson-viewer/components/TextContent.tsx",lineNumber:137,columnNumber:11},void 0),e.jsxDEV("div",{className:"flex items-center space-x-2",children:[e.jsxDEV(n,{"aria-hidden":"true",name:"Palette",size:16,className:"text-text-secondary"},void 0,!1,{fileName:"/mnt/c/GitHub/ai_foundations_lms/apps/frontend/src/pages/lesson-viewer/components/TextContent.tsx",lineNumber:152,columnNumber:13},void 0),e.jsxDEV("select",{value:g,onChange:u=>s(u.target.value),className:"text-sm border border-border rounded px-2 py-1 bg-surface",children:[e.jsxDEV("option",{value:"light",children:"Clair"},void 0,!1,{fileName:"/mnt/c/GitHub/ai_foundations_lms/apps/frontend/src/pages/lesson-viewer/components/TextContent.tsx",lineNumber:158,columnNumber:15},void 0),e.jsxDEV("option",{value:"dark",children:"Sombre"},void 0,!1,{fileName:"/mnt/c/GitHub/ai_foundations_lms/apps/frontend/src/pages/lesson-viewer/components/TextContent.tsx",lineNumber:159,columnNumber:15},void 0),e.jsxDEV("option",{value:"sepia",children:"Sépia"},void 0,!1,{fileName:"/mnt/c/GitHub/ai_foundations_lms/apps/frontend/src/pages/lesson-viewer/components/TextContent.tsx",lineNumber:160,columnNumber:15},void 0)]},void 0,!0,{fileName:"/mnt/c/GitHub/ai_foundations_lms/apps/frontend/src/pages/lesson-viewer/components/TextContent.tsx",lineNumber:153,columnNumber:13},void 0)]},void 0,!0,{fileName:"/mnt/c/GitHub/ai_foundations_lms/apps/frontend/src/pages/lesson-viewer/components/TextContent.tsx",lineNumber:151,columnNumber:11},void 0),e.jsxDEV("button",{onClick:a,className:"flex items-center space-x-2 px-3 py-1 bg-primary text-white rounded hover:bg-primary-700 transition-colors",children:[e.jsxDEV(n,{"aria-hidden":"true",name:"Bookmark",size:16},void 0,!1,{fileName:"/mnt/c/GitHub/ai_foundations_lms/apps/frontend/src/pages/lesson-viewer/components/TextContent.tsx",lineNumber:168,columnNumber:13},void 0),e.jsxDEV("span",{className:"text-sm",children:"Signet"},void 0,!1,{fileName:"/mnt/c/GitHub/ai_foundations_lms/apps/frontend/src/pages/lesson-viewer/components/TextContent.tsx",lineNumber:169,columnNumber:13},void 0)]},void 0,!0,{fileName:"/mnt/c/GitHub/ai_foundations_lms/apps/frontend/src/pages/lesson-viewer/components/TextContent.tsx",lineNumber:164,columnNumber:11},void 0)]},void 0,!0,{fileName:"/mnt/c/GitHub/ai_foundations_lms/apps/frontend/src/pages/lesson-viewer/components/TextContent.tsx",lineNumber:136,columnNumber:9},void 0),e.jsxDEV("div",{className:"flex items-center space-x-4",children:[e.jsxDEV("div",{className:"flex items-center space-x-2",children:[e.jsxDEV(n,{"aria-hidden":"true",name:"BookOpen",size:16,className:"text-text-secondary"},void 0,!1,{fileName:"/mnt/c/GitHub/ai_foundations_lms/apps/frontend/src/pages/lesson-viewer/components/TextContent.tsx",lineNumber:175,columnNumber:13},void 0),e.jsxDEV("span",{className:"text-sm text-text-secondary",children:[Math.round(c),"% lu"]},void 0,!0,{fileName:"/mnt/c/GitHub/ai_foundations_lms/apps/frontend/src/pages/lesson-viewer/components/TextContent.tsx",lineNumber:176,columnNumber:13},void 0)]},void 0,!0,{fileName:"/mnt/c/GitHub/ai_foundations_lms/apps/frontend/src/pages/lesson-viewer/components/TextContent.tsx",lineNumber:174,columnNumber:11},void 0),e.jsxDEV("div",{className:"w-32 h-2 bg-secondary-200 rounded-full overflow-hidden",children:e.jsxDEV("div",{className:"h-full bg-primary transition-all duration-300",style:{width:`${c}%`}},void 0,!1,{fileName:"/mnt/c/GitHub/ai_foundations_lms/apps/frontend/src/pages/lesson-viewer/components/TextContent.tsx",lineNumber:180,columnNumber:13},void 0)},void 0,!1,{fileName:"/mnt/c/GitHub/ai_foundations_lms/apps/frontend/src/pages/lesson-viewer/components/TextContent.tsx",lineNumber:179,columnNumber:11},void 0)]},void 0,!0,{fileName:"/mnt/c/GitHub/ai_foundations_lms/apps/frontend/src/pages/lesson-viewer/components/TextContent.tsx",lineNumber:173,columnNumber:9},void 0)]},void 0,!0,{fileName:"/mnt/c/GitHub/ai_foundations_lms/apps/frontend/src/pages/lesson-viewer/components/TextContent.tsx",lineNumber:135,columnNumber:7},void 0),e.jsxDEV("div",{className:"flex-1 flex overflow-hidden",children:[e.jsxDEV("div",{ref:f,className:`flex-1 overflow-auto p-8 ${D[g]} ${i[l]}`,children:e.jsxDEV("div",{className:"max-w-4xl mx-auto",children:e.jsxDEV("div",{className:"prose prose-lg max-w-none",children:H(N)},void 0,!1,{fileName:"/mnt/c/GitHub/ai_foundations_lms/apps/frontend/src/pages/lesson-viewer/components/TextContent.tsx",lineNumber:195,columnNumber:13},void 0)},void 0,!1,{fileName:"/mnt/c/GitHub/ai_foundations_lms/apps/frontend/src/pages/lesson-viewer/components/TextContent.tsx",lineNumber:194,columnNumber:11},void 0)},void 0,!1,{fileName:"/mnt/c/GitHub/ai_foundations_lms/apps/frontend/src/pages/lesson-viewer/components/TextContent.tsx",lineNumber:190,columnNumber:9},void 0),d.length>0&&e.jsxDEV("div",{className:"w-64 bg-surface border-l border-border flex flex-col",children:[e.jsxDEV("div",{className:"p-4 border-b border-border",children:e.jsxDEV("h3",{className:"font-semibold text-text-primary flex items-center",children:[e.jsxDEV(n,{"aria-hidden":"true",name:"Bookmark",size:16,className:"mr-2"},void 0,!1,{fileName:"/mnt/c/GitHub/ai_foundations_lms/apps/frontend/src/pages/lesson-viewer/components/TextContent.tsx",lineNumber:204,columnNumber:17},void 0),"Signets (",d.length,")"]},void 0,!0,{fileName:"/mnt/c/GitHub/ai_foundations_lms/apps/frontend/src/pages/lesson-viewer/components/TextContent.tsx",lineNumber:203,columnNumber:15},void 0)},void 0,!1,{fileName:"/mnt/c/GitHub/ai_foundations_lms/apps/frontend/src/pages/lesson-viewer/components/TextContent.tsx",lineNumber:202,columnNumber:13},void 0),e.jsxDEV("div",{className:"flex-1 overflow-auto p-4 space-y-3",children:d.map(u=>e.jsxDEV("div",{className:"p-3 border border-border rounded-lg hover:bg-secondary-50 transition-colors group cursor-pointer",onClick:()=>j(u),children:e.jsxDEV("div",{className:"flex items-start justify-between",children:[e.jsxDEV("div",{className:"flex-1",children:[e.jsxDEV("p",{className:"text-sm font-medium text-text-primary mb-1",children:u.preview},void 0,!1,{fileName:"/mnt/c/GitHub/ai_foundations_lms/apps/frontend/src/pages/lesson-viewer/components/TextContent.tsx",lineNumber:218,columnNumber:23},void 0),e.jsxDEV("p",{className:"text-xs text-text-secondary",children:new Date(u.timestamp).toLocaleTimeString("fr-FR",{hour:"2-digit",minute:"2-digit"})},void 0,!1,{fileName:"/mnt/c/GitHub/ai_foundations_lms/apps/frontend/src/pages/lesson-viewer/components/TextContent.tsx",lineNumber:221,columnNumber:23},void 0)]},void 0,!0,{fileName:"/mnt/c/GitHub/ai_foundations_lms/apps/frontend/src/pages/lesson-viewer/components/TextContent.tsx",lineNumber:217,columnNumber:21},void 0),e.jsxDEV("button",{onClick:r=>{r.stopPropagation(),w(u.id)},className:"opacity-0 group-hover:opacity-100 p-1 hover:bg-error-100 rounded transition-all",children:e.jsxDEV(n,{name:"X",size:12,className:"text-error","aria-label":"Supprimer signet"},void 0,!1,{fileName:"/mnt/c/GitHub/ai_foundations_lms/apps/frontend/src/pages/lesson-viewer/components/TextContent.tsx",lineNumber:235,columnNumber:23},void 0)},void 0,!1,{fileName:"/mnt/c/GitHub/ai_foundations_lms/apps/frontend/src/pages/lesson-viewer/components/TextContent.tsx",lineNumber:228,columnNumber:21},void 0)]},void 0,!0,{fileName:"/mnt/c/GitHub/ai_foundations_lms/apps/frontend/src/pages/lesson-viewer/components/TextContent.tsx",lineNumber:216,columnNumber:19},void 0)},u.id,!1,{fileName:"/mnt/c/GitHub/ai_foundations_lms/apps/frontend/src/pages/lesson-viewer/components/TextContent.tsx",lineNumber:211,columnNumber:17},void 0))},void 0,!1,{fileName:"/mnt/c/GitHub/ai_foundations_lms/apps/frontend/src/pages/lesson-viewer/components/TextContent.tsx",lineNumber:209,columnNumber:13},void 0)]},void 0,!0,{fileName:"/mnt/c/GitHub/ai_foundations_lms/apps/frontend/src/pages/lesson-viewer/components/TextContent.tsx",lineNumber:201,columnNumber:11},void 0)]},void 0,!0,{fileName:"/mnt/c/GitHub/ai_foundations_lms/apps/frontend/src/pages/lesson-viewer/components/TextContent.tsx",lineNumber:188,columnNumber:7},void 0)]},void 0,!0,{fileName:"/mnt/c/GitHub/ai_foundations_lms/apps/frontend/src/pages/lesson-viewer/components/TextContent.tsx",lineNumber:133,columnNumber:5},void 0)},R=({isOpen:N,onClose:p,moduleStructure:f,currentLessonId:c})=>{const[m,d]=o.useState(new Set(["1"])),h=parseInt((c==null?void 0:c.toString())??"0",10),l=s=>{const a=new Set(m);a.has(s)?a.delete(s):a.add(s),d(a)},v=s=>s.reduce((a,j)=>{const w=j.duration.split(" "),i=parseInt(w[0]??"0");return a+(isNaN(i)?0:i)},0),g=s=>s.filter(a=>a.completed).length;return e.jsxDEV(e.Fragment,{children:[N&&e.jsxDEV("div",{className:"fixed inset-0 bg-black/50 z-40 lg:hidden",onClick:p},void 0,!1,{fileName:"/mnt/c/GitHub/ai_foundations_lms/apps/frontend/src/pages/lesson-viewer/components/LessonNavigation.tsx",lineNumber:59,columnNumber:18},void 0),e.jsxDEV("div",{className:`
        fixed lg:relative inset-y-0 left-0 z-50 w-80 bg-surface border-r border-border
        transform transition-transform duration-300 ease-in-out
        ${N?"translate-x-0":"-translate-x-full lg:translate-x-0"}
        flex flex-col
      `,children:[e.jsxDEV("div",{className:"p-4 border-b border-border flex items-center justify-between",children:[e.jsxDEV("h2",{className:"font-semibold text-text-primary",children:"Navigation du cours"},void 0,!1,{fileName:"/mnt/c/GitHub/ai_foundations_lms/apps/frontend/src/pages/lesson-viewer/components/LessonNavigation.tsx",lineNumber:72,columnNumber:11},void 0),e.jsxDEV("button",{onClick:p,className:"lg:hidden p-1 hover:bg-secondary-50 rounded transition-colors",children:e.jsxDEV(n,{name:"X",size:20,"aria-label":"Fermer"},void 0,!1,{fileName:"/mnt/c/GitHub/ai_foundations_lms/apps/frontend/src/pages/lesson-viewer/components/LessonNavigation.tsx",lineNumber:77,columnNumber:13},void 0)},void 0,!1,{fileName:"/mnt/c/GitHub/ai_foundations_lms/apps/frontend/src/pages/lesson-viewer/components/LessonNavigation.tsx",lineNumber:73,columnNumber:11},void 0)]},void 0,!0,{fileName:"/mnt/c/GitHub/ai_foundations_lms/apps/frontend/src/pages/lesson-viewer/components/LessonNavigation.tsx",lineNumber:71,columnNumber:9},void 0),e.jsxDEV("div",{className:"p-4 border-b border-border bg-secondary-50",children:[e.jsxDEV("div",{className:"mb-3",children:[e.jsxDEV("h3",{className:"font-medium text-text-primary mb-1",children:"Intelligence Artificielle pour Débutants"},void 0,!1,{fileName:"/mnt/c/GitHub/ai_foundations_lms/apps/frontend/src/pages/lesson-viewer/components/LessonNavigation.tsx",lineNumber:84,columnNumber:13},void 0),e.jsxDEV("p",{className:"text-sm text-text-secondary",children:"Progression générale"},void 0,!1,{fileName:"/mnt/c/GitHub/ai_foundations_lms/apps/frontend/src/pages/lesson-viewer/components/LessonNavigation.tsx",lineNumber:87,columnNumber:13},void 0)]},void 0,!0,{fileName:"/mnt/c/GitHub/ai_foundations_lms/apps/frontend/src/pages/lesson-viewer/components/LessonNavigation.tsx",lineNumber:83,columnNumber:11},void 0),e.jsxDEV("div",{className:"flex items-center justify-between mb-2",children:[e.jsxDEV("span",{className:"text-sm text-text-secondary",children:"Leçons terminées"},void 0,!1,{fileName:"/mnt/c/GitHub/ai_foundations_lms/apps/frontend/src/pages/lesson-viewer/components/LessonNavigation.tsx",lineNumber:91,columnNumber:13},void 0),e.jsxDEV("span",{className:"text-sm font-medium text-text-primary",children:[f.reduce((s,a)=>s+g(a.lessons),0)," ","/ ",f.reduce((s,a)=>s+a.lessons.length,0)]},void 0,!0,{fileName:"/mnt/c/GitHub/ai_foundations_lms/apps/frontend/src/pages/lesson-viewer/components/LessonNavigation.tsx",lineNumber:92,columnNumber:13},void 0)]},void 0,!0,{fileName:"/mnt/c/GitHub/ai_foundations_lms/apps/frontend/src/pages/lesson-viewer/components/LessonNavigation.tsx",lineNumber:90,columnNumber:11},void 0),e.jsxDEV("div",{className:"w-full h-2 bg-secondary-200 rounded-full overflow-hidden",children:e.jsxDEV("div",{className:"h-full bg-primary transition-all duration-300",style:{width:`${f.reduce((s,a)=>s+g(a.lessons),0)/f.reduce((s,a)=>s+a.lessons.length,0)*100}%`}},void 0,!1,{fileName:"/mnt/c/GitHub/ai_foundations_lms/apps/frontend/src/pages/lesson-viewer/components/LessonNavigation.tsx",lineNumber:102,columnNumber:13},void 0)},void 0,!1,{fileName:"/mnt/c/GitHub/ai_foundations_lms/apps/frontend/src/pages/lesson-viewer/components/LessonNavigation.tsx",lineNumber:101,columnNumber:11},void 0)]},void 0,!0,{fileName:"/mnt/c/GitHub/ai_foundations_lms/apps/frontend/src/pages/lesson-viewer/components/LessonNavigation.tsx",lineNumber:82,columnNumber:9},void 0),e.jsxDEV("div",{className:"flex-1 overflow-auto",children:f.map(s=>e.jsxDEV("div",{className:"border-b border-border",children:[e.jsxDEV("button",{onClick:()=>l(s.id),className:"w-full p-4 text-left hover:bg-secondary-50 transition-colors flex items-center justify-between",children:[e.jsxDEV("div",{className:"flex-1",children:[e.jsxDEV("h3",{className:"font-medium text-text-primary mb-1",children:s.title},void 0,!1,{fileName:"/mnt/c/GitHub/ai_foundations_lms/apps/frontend/src/pages/lesson-viewer/components/LessonNavigation.tsx",lineNumber:121,columnNumber:19},void 0),e.jsxDEV("div",{className:"flex items-center space-x-4 text-sm text-text-secondary",children:[e.jsxDEV("span",{children:[s.lessons.length," leçons"]},void 0,!0,{fileName:"/mnt/c/GitHub/ai_foundations_lms/apps/frontend/src/pages/lesson-viewer/components/LessonNavigation.tsx",lineNumber:123,columnNumber:21},void 0),e.jsxDEV("span",{children:[v(s.lessons)," min"]},void 0,!0,{fileName:"/mnt/c/GitHub/ai_foundations_lms/apps/frontend/src/pages/lesson-viewer/components/LessonNavigation.tsx",lineNumber:124,columnNumber:21},void 0),e.jsxDEV("span",{children:[g(s.lessons),"/",s.lessons.length," terminées"]},void 0,!0,{fileName:"/mnt/c/GitHub/ai_foundations_lms/apps/frontend/src/pages/lesson-viewer/components/LessonNavigation.tsx",lineNumber:125,columnNumber:21},void 0)]},void 0,!0,{fileName:"/mnt/c/GitHub/ai_foundations_lms/apps/frontend/src/pages/lesson-viewer/components/LessonNavigation.tsx",lineNumber:122,columnNumber:19},void 0)]},void 0,!0,{fileName:"/mnt/c/GitHub/ai_foundations_lms/apps/frontend/src/pages/lesson-viewer/components/LessonNavigation.tsx",lineNumber:120,columnNumber:17},void 0),e.jsxDEV(n,{"aria-hidden":"true",name:m.has(s.id.toString())?"ChevronDown":"ChevronRight",size:20,className:"text-text-secondary"},void 0,!1,{fileName:"/mnt/c/GitHub/ai_foundations_lms/apps/frontend/src/pages/lesson-viewer/components/LessonNavigation.tsx",lineNumber:130,columnNumber:17},void 0)]},void 0,!0,{fileName:"/mnt/c/GitHub/ai_foundations_lms/apps/frontend/src/pages/lesson-viewer/components/LessonNavigation.tsx",lineNumber:116,columnNumber:15},void 0),e.jsxDEV("div",{className:"px-4 pb-2",children:e.jsxDEV("div",{className:"w-full h-1 bg-secondary-200 rounded-full overflow-hidden",children:e.jsxDEV("div",{className:"h-full bg-accent transition-all duration-300",style:{width:`${g(s.lessons)/s.lessons.length*100}%`}},void 0,!1,{fileName:"/mnt/c/GitHub/ai_foundations_lms/apps/frontend/src/pages/lesson-viewer/components/LessonNavigation.tsx",lineNumber:141,columnNumber:19},void 0)},void 0,!1,{fileName:"/mnt/c/GitHub/ai_foundations_lms/apps/frontend/src/pages/lesson-viewer/components/LessonNavigation.tsx",lineNumber:140,columnNumber:17},void 0)},void 0,!1,{fileName:"/mnt/c/GitHub/ai_foundations_lms/apps/frontend/src/pages/lesson-viewer/components/LessonNavigation.tsx",lineNumber:139,columnNumber:15},void 0),m.has(s.id.toString())&&e.jsxDEV("div",{className:"bg-secondary-25",children:s.lessons.map(a=>{const w=parseInt(a.id,10)===h;return e.jsxDEV("div",{className:`
                          flex items-center p-3 pl-8 hover:bg-secondary-50 transition-colors cursor-pointer
                          ${w?"bg-primary-50 border-r-2 border-primary":""}
                        `,children:[e.jsxDEV("div",{className:"mr-3",children:a.completed?e.jsxDEV("div",{className:"w-6 h-6 bg-accent rounded-full flex items-center justify-center",children:e.jsxDEV(n,{"aria-hidden":"true",name:"Check",size:14,color:"white"},void 0,!1,{fileName:"/mnt/c/GitHub/ai_foundations_lms/apps/frontend/src/pages/lesson-viewer/components/LessonNavigation.tsx",lineNumber:168,columnNumber:29},void 0)},void 0,!1,{fileName:"/mnt/c/GitHub/ai_foundations_lms/apps/frontend/src/pages/lesson-viewer/components/LessonNavigation.tsx",lineNumber:167,columnNumber:27},void 0):w?e.jsxDEV("div",{className:"w-6 h-6 bg-primary rounded-full flex items-center justify-center",children:e.jsxDEV(n,{"aria-hidden":"true",name:"Play",size:12,color:"white"},void 0,!1,{fileName:"/mnt/c/GitHub/ai_foundations_lms/apps/frontend/src/pages/lesson-viewer/components/LessonNavigation.tsx",lineNumber:172,columnNumber:29},void 0)},void 0,!1,{fileName:"/mnt/c/GitHub/ai_foundations_lms/apps/frontend/src/pages/lesson-viewer/components/LessonNavigation.tsx",lineNumber:171,columnNumber:27},void 0):e.jsxDEV("div",{className:"w-6 h-6 border-2 border-secondary-300 rounded-full flex items-center justify-center",children:e.jsxDEV("div",{className:"w-2 h-2 bg-secondary-300 rounded-full"},void 0,!1,{fileName:"/mnt/c/GitHub/ai_foundations_lms/apps/frontend/src/pages/lesson-viewer/components/LessonNavigation.tsx",lineNumber:176,columnNumber:29},void 0)},void 0,!1,{fileName:"/mnt/c/GitHub/ai_foundations_lms/apps/frontend/src/pages/lesson-viewer/components/LessonNavigation.tsx",lineNumber:175,columnNumber:27},void 0)},void 0,!1,{fileName:"/mnt/c/GitHub/ai_foundations_lms/apps/frontend/src/pages/lesson-viewer/components/LessonNavigation.tsx",lineNumber:165,columnNumber:23},void 0),e.jsxDEV("div",{className:"flex-1",children:[e.jsxDEV("h4",{className:`font-medium mb-1 ${w?"text-primary":"text-text-primary"}`,children:a.title},void 0,!1,{fileName:"/mnt/c/GitHub/ai_foundations_lms/apps/frontend/src/pages/lesson-viewer/components/LessonNavigation.tsx",lineNumber:183,columnNumber:25},void 0),e.jsxDEV("div",{className:"flex items-center space-x-3 text-sm text-text-secondary",children:[e.jsxDEV("span",{className:"flex items-center",children:[e.jsxDEV(n,{"aria-hidden":"true",name:"Clock",size:12,className:"mr-1"},void 0,!1,{fileName:"/mnt/c/GitHub/ai_foundations_lms/apps/frontend/src/pages/lesson-viewer/components/LessonNavigation.tsx",lineNumber:190,columnNumber:29},void 0),a.duration]},void 0,!0,{fileName:"/mnt/c/GitHub/ai_foundations_lms/apps/frontend/src/pages/lesson-viewer/components/LessonNavigation.tsx",lineNumber:189,columnNumber:27},void 0),a.completed&&e.jsxDEV("span",{className:"flex items-center text-accent",children:[e.jsxDEV(n,{"aria-hidden":"true",name:"CheckCircle",size:12,className:"mr-1"},void 0,!1,{fileName:"/mnt/c/GitHub/ai_foundations_lms/apps/frontend/src/pages/lesson-viewer/components/LessonNavigation.tsx",lineNumber:195,columnNumber:31},void 0),"Terminé"]},void 0,!0,{fileName:"/mnt/c/GitHub/ai_foundations_lms/apps/frontend/src/pages/lesson-viewer/components/LessonNavigation.tsx",lineNumber:194,columnNumber:29},void 0)]},void 0,!0,{fileName:"/mnt/c/GitHub/ai_foundations_lms/apps/frontend/src/pages/lesson-viewer/components/LessonNavigation.tsx",lineNumber:188,columnNumber:25},void 0)]},void 0,!0,{fileName:"/mnt/c/GitHub/ai_foundations_lms/apps/frontend/src/pages/lesson-viewer/components/LessonNavigation.tsx",lineNumber:182,columnNumber:23},void 0),e.jsxDEV("div",{className:"ml-2",children:w&&e.jsxDEV(n,{"aria-hidden":"true",name:"Volume2",size:16,className:"text-primary"},void 0,!1,{fileName:"/mnt/c/GitHub/ai_foundations_lms/apps/frontend/src/pages/lesson-viewer/components/LessonNavigation.tsx",lineNumber:210,columnNumber:27},void 0)},void 0,!1,{fileName:"/mnt/c/GitHub/ai_foundations_lms/apps/frontend/src/pages/lesson-viewer/components/LessonNavigation.tsx",lineNumber:208,columnNumber:23},void 0)]},a.id,!0,{fileName:"/mnt/c/GitHub/ai_foundations_lms/apps/frontend/src/pages/lesson-viewer/components/LessonNavigation.tsx",lineNumber:157,columnNumber:23},void 0)})},void 0,!1,{fileName:"/mnt/c/GitHub/ai_foundations_lms/apps/frontend/src/pages/lesson-viewer/components/LessonNavigation.tsx",lineNumber:152,columnNumber:17},void 0)]},s.id,!0,{fileName:"/mnt/c/GitHub/ai_foundations_lms/apps/frontend/src/pages/lesson-viewer/components/LessonNavigation.tsx",lineNumber:114,columnNumber:13},void 0))},void 0,!1,{fileName:"/mnt/c/GitHub/ai_foundations_lms/apps/frontend/src/pages/lesson-viewer/components/LessonNavigation.tsx",lineNumber:112,columnNumber:9},void 0),e.jsxDEV("div",{className:"p-4 border-t border-border bg-secondary-50",children:e.jsxDEV("button",{className:"w-full flex items-center justify-center px-4 py-2 bg-primary text-white rounded-lg hover:bg-primary-700 transition-colors",children:[e.jsxDEV(n,{"aria-hidden":"true",name:"Download",size:16,className:"mr-2"},void 0,!1,{fileName:"/mnt/c/GitHub/ai_foundations_lms/apps/frontend/src/pages/lesson-viewer/components/LessonNavigation.tsx",lineNumber:230,columnNumber:13},void 0),"Télécharger pour hors-ligne"]},void 0,!0,{fileName:"/mnt/c/GitHub/ai_foundations_lms/apps/frontend/src/pages/lesson-viewer/components/LessonNavigation.tsx",lineNumber:229,columnNumber:11},void 0)},void 0,!1,{fileName:"/mnt/c/GitHub/ai_foundations_lms/apps/frontend/src/pages/lesson-viewer/components/LessonNavigation.tsx",lineNumber:228,columnNumber:9},void 0)]},void 0,!0,{fileName:"/mnt/c/GitHub/ai_foundations_lms/apps/frontend/src/pages/lesson-viewer/components/LessonNavigation.tsx",lineNumber:62,columnNumber:7},void 0)]},void 0,!0,{fileName:"/mnt/c/GitHub/ai_foundations_lms/apps/frontend/src/pages/lesson-viewer/components/LessonNavigation.tsx",lineNumber:57,columnNumber:5},void 0)},F=({isOpen:N,onClose:p,notes:f,onAddNote:c,selectedText:m})=>{const[d,h]=o.useState(""),[l,v]=o.useState(""),[g,s]=o.useState("all"),a=i=>{i.preventDefault(),d.trim()&&(c(d.trim()),h(""))},j=f.filter(i=>{const D=i.content.toLowerCase().includes(l.toLowerCase())||i.selectedText&&i.selectedText.toLowerCase().includes(l.toLowerCase());return g==="highlights"?D&&i.selectedText:g==="personal"?D&&!i.selectedText:D}),w=i=>new Date(i).toLocaleString("fr-FR",{day:"2-digit",month:"2-digit",hour:"2-digit",minute:"2-digit"});return e.jsxDEV(e.Fragment,{children:[N&&e.jsxDEV("div",{className:"fixed inset-0 bg-black/50 z-40 lg:hidden",onClick:p},void 0,!1,{fileName:"/mnt/c/GitHub/ai_foundations_lms/apps/frontend/src/pages/lesson-viewer/components/NoteTaking.tsx",lineNumber:65,columnNumber:18},void 0),e.jsxDEV("div",{className:`
        fixed lg:relative inset-y-0 right-0 z-50 w-80 bg-surface border-l border-border
        transform transition-transform duration-300 ease-in-out
        ${N?"translate-x-0":"translate-x-full lg:translate-x-0"}
        flex flex-col
      `,children:[e.jsxDEV("div",{className:"p-4 border-b border-border flex items-center justify-between",children:[e.jsxDEV("h3",{className:"font-semibold text-text-primary flex items-center",children:[e.jsxDEV(n,{"aria-hidden":"true",name:"StickyNote",size:20,className:"mr-2"},void 0,!1,{fileName:"/mnt/c/GitHub/ai_foundations_lms/apps/frontend/src/pages/lesson-viewer/components/NoteTaking.tsx",lineNumber:79,columnNumber:13},void 0),"Mes notes (",f.length,")"]},void 0,!0,{fileName:"/mnt/c/GitHub/ai_foundations_lms/apps/frontend/src/pages/lesson-viewer/components/NoteTaking.tsx",lineNumber:78,columnNumber:11},void 0),e.jsxDEV("button",{onClick:p,className:"lg:hidden p-1 hover:bg-secondary-50 rounded transition-colors",children:e.jsxDEV(n,{name:"X",size:20,"aria-label":"Fermer"},void 0,!1,{fileName:"/mnt/c/GitHub/ai_foundations_lms/apps/frontend/src/pages/lesson-viewer/components/NoteTaking.tsx",lineNumber:86,columnNumber:13},void 0)},void 0,!1,{fileName:"/mnt/c/GitHub/ai_foundations_lms/apps/frontend/src/pages/lesson-viewer/components/NoteTaking.tsx",lineNumber:82,columnNumber:11},void 0)]},void 0,!0,{fileName:"/mnt/c/GitHub/ai_foundations_lms/apps/frontend/src/pages/lesson-viewer/components/NoteTaking.tsx",lineNumber:77,columnNumber:9},void 0),e.jsxDEV("div",{className:"p-4 border-b border-border space-y-3",children:[e.jsxDEV("div",{className:"relative",children:[e.jsxDEV(n,{"aria-hidden":"true",name:"Search",size:16,className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-text-secondary"},void 0,!1,{fileName:"/mnt/c/GitHub/ai_foundations_lms/apps/frontend/src/pages/lesson-viewer/components/NoteTaking.tsx",lineNumber:93,columnNumber:13},void 0),e.jsxDEV("input",{type:"text",placeholder:"Rechercher dans les notes...",value:l,onChange:i=>v(i.target.value),className:"w-full pl-10 pr-4 py-2 border border-border rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent"},void 0,!1,{fileName:"/mnt/c/GitHub/ai_foundations_lms/apps/frontend/src/pages/lesson-viewer/components/NoteTaking.tsx",lineNumber:99,columnNumber:13},void 0)]},void 0,!0,{fileName:"/mnt/c/GitHub/ai_foundations_lms/apps/frontend/src/pages/lesson-viewer/components/NoteTaking.tsx",lineNumber:92,columnNumber:11},void 0),e.jsxDEV("div",{className:"flex space-x-1",children:[{key:"all",label:"Toutes",icon:"FileText"},{key:"highlights",label:"Surlignages",icon:"Highlighter"},{key:"personal",label:"Personnelles",icon:"Edit3"}].map(i=>e.jsxDEV("button",{onClick:()=>s(i.key),className:`
                  flex-1 flex items-center justify-center px-2 py-1 text-xs rounded transition-colors
                  ${g===i.key?"bg-primary text-white":"bg-secondary-100 text-text-secondary hover:bg-secondary-200"}
                `,children:[e.jsxDEV(n,{"aria-hidden":"true",name:i.icon,size:12,className:"mr-1"},void 0,!1,{fileName:"/mnt/c/GitHub/ai_foundations_lms/apps/frontend/src/pages/lesson-viewer/components/NoteTaking.tsx",lineNumber:126,columnNumber:17},void 0),i.label]},i.key,!0,{fileName:"/mnt/c/GitHub/ai_foundations_lms/apps/frontend/src/pages/lesson-viewer/components/NoteTaking.tsx",lineNumber:114,columnNumber:15},void 0))},void 0,!1,{fileName:"/mnt/c/GitHub/ai_foundations_lms/apps/frontend/src/pages/lesson-viewer/components/NoteTaking.tsx",lineNumber:108,columnNumber:11},void 0)]},void 0,!0,{fileName:"/mnt/c/GitHub/ai_foundations_lms/apps/frontend/src/pages/lesson-viewer/components/NoteTaking.tsx",lineNumber:91,columnNumber:9},void 0),e.jsxDEV("div",{className:"p-4 border-b border-border",children:[m&&e.jsxDEV("div",{className:"mb-3 p-2 bg-warning-50 border border-warning-200 rounded text-sm",children:[e.jsxDEV("p",{className:"text-warning-800 font-medium mb-1",children:"Texte sélectionné :"},void 0,!1,{fileName:"/mnt/c/GitHub/ai_foundations_lms/apps/frontend/src/pages/lesson-viewer/components/NoteTaking.tsx",lineNumber:137,columnNumber:15},void 0),e.jsxDEV("p",{className:"text-warning-700 italic",children:["“",m,"”"]},void 0,!0,{fileName:"/mnt/c/GitHub/ai_foundations_lms/apps/frontend/src/pages/lesson-viewer/components/NoteTaking.tsx",lineNumber:138,columnNumber:15},void 0)]},void 0,!0,{fileName:"/mnt/c/GitHub/ai_foundations_lms/apps/frontend/src/pages/lesson-viewer/components/NoteTaking.tsx",lineNumber:136,columnNumber:13},void 0),e.jsxDEV("form",{onSubmit:a,className:"space-y-3",children:[e.jsxDEV("textarea",{value:d,onChange:i=>h(i.target.value),placeholder:m?"Ajouter une note sur ce passage...":"Écrire une nouvelle note...",className:"w-full h-20 p-3 border border-border rounded-lg resize-none focus:ring-2 focus:ring-primary focus:border-transparent"},void 0,!1,{fileName:"/mnt/c/GitHub/ai_foundations_lms/apps/frontend/src/pages/lesson-viewer/components/NoteTaking.tsx",lineNumber:143,columnNumber:13},void 0),e.jsxDEV("button",{type:"submit",disabled:!d.trim(),className:"w-full flex items-center justify-center px-4 py-2 bg-primary text-white rounded-lg hover:bg-primary-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:[e.jsxDEV(n,{"aria-hidden":"true",name:"Plus",size:16,className:"mr-2"},void 0,!1,{fileName:"/mnt/c/GitHub/ai_foundations_lms/apps/frontend/src/pages/lesson-viewer/components/NoteTaking.tsx",lineNumber:156,columnNumber:15},void 0),"Ajouter la note"]},void 0,!0,{fileName:"/mnt/c/GitHub/ai_foundations_lms/apps/frontend/src/pages/lesson-viewer/components/NoteTaking.tsx",lineNumber:151,columnNumber:13},void 0)]},void 0,!0,{fileName:"/mnt/c/GitHub/ai_foundations_lms/apps/frontend/src/pages/lesson-viewer/components/NoteTaking.tsx",lineNumber:142,columnNumber:11},void 0)]},void 0,!0,{fileName:"/mnt/c/GitHub/ai_foundations_lms/apps/frontend/src/pages/lesson-viewer/components/NoteTaking.tsx",lineNumber:134,columnNumber:9},void 0),e.jsxDEV("div",{className:"flex-1 overflow-auto",children:j.length===0?e.jsxDEV("div",{className:"p-8 text-center",children:[e.jsxDEV(n,{"aria-hidden":"true",name:"StickyNote",size:48,className:"mx-auto text-secondary-300 mb-4"},void 0,!1,{fileName:"/mnt/c/GitHub/ai_foundations_lms/apps/frontend/src/pages/lesson-viewer/components/NoteTaking.tsx",lineNumber:166,columnNumber:15},void 0),e.jsxDEV("p",{className:"text-text-secondary mb-2",children:l?"Aucune note trouvée":"Aucune note pour le moment"},void 0,!1,{fileName:"/mnt/c/GitHub/ai_foundations_lms/apps/frontend/src/pages/lesson-viewer/components/NoteTaking.tsx",lineNumber:172,columnNumber:15},void 0),e.jsxDEV("p",{className:"text-sm text-text-secondary",children:l?"Essayez un autre terme de recherche":"Sélectionnez du texte ou ajoutez une note personnelle"},void 0,!1,{fileName:"/mnt/c/GitHub/ai_foundations_lms/apps/frontend/src/pages/lesson-viewer/components/NoteTaking.tsx",lineNumber:175,columnNumber:15},void 0)]},void 0,!0,{fileName:"/mnt/c/GitHub/ai_foundations_lms/apps/frontend/src/pages/lesson-viewer/components/NoteTaking.tsx",lineNumber:165,columnNumber:13},void 0):e.jsxDEV("div",{className:"p-4 space-y-4",children:j.map(i=>e.jsxDEV("div",{className:"p-3 border border-border rounded-lg hover:bg-secondary-50 transition-colors group",children:[e.jsxDEV("div",{className:"flex items-start justify-between mb-2",children:[e.jsxDEV("div",{className:"flex items-center space-x-2",children:[e.jsxDEV(n,{"aria-hidden":"true",name:i.selectedText?"Highlighter":"Edit3",size:14,className:i.selectedText?"text-warning":"text-primary"},void 0,!1,{fileName:"/mnt/c/GitHub/ai_foundations_lms/apps/frontend/src/pages/lesson-viewer/components/NoteTaking.tsx",lineNumber:191,columnNumber:23},void 0),e.jsxDEV("span",{className:"text-xs text-text-secondary",children:w(i.timestamp)},void 0,!1,{fileName:"/mnt/c/GitHub/ai_foundations_lms/apps/frontend/src/pages/lesson-viewer/components/NoteTaking.tsx",lineNumber:197,columnNumber:23},void 0)]},void 0,!0,{fileName:"/mnt/c/GitHub/ai_foundations_lms/apps/frontend/src/pages/lesson-viewer/components/NoteTaking.tsx",lineNumber:190,columnNumber:21},void 0),e.jsxDEV("button",{className:"opacity-0 group-hover:opacity-100 p-1 hover:bg-error-100 rounded transition-all",children:e.jsxDEV(n,{"aria-hidden":"true",name:"Trash2",size:12,className:"text-error"},void 0,!1,{fileName:"/mnt/c/GitHub/ai_foundations_lms/apps/frontend/src/pages/lesson-viewer/components/NoteTaking.tsx",lineNumber:202,columnNumber:23},void 0)},void 0,!1,{fileName:"/mnt/c/GitHub/ai_foundations_lms/apps/frontend/src/pages/lesson-viewer/components/NoteTaking.tsx",lineNumber:201,columnNumber:21},void 0)]},void 0,!0,{fileName:"/mnt/c/GitHub/ai_foundations_lms/apps/frontend/src/pages/lesson-viewer/components/NoteTaking.tsx",lineNumber:189,columnNumber:19},void 0),i.selectedText&&e.jsxDEV("div",{className:"mb-2 p-2 bg-warning-50 border-l-2 border-warning rounded text-sm",children:e.jsxDEV("p",{className:"text-warning-800 italic",children:["“",i.selectedText,"”"]},void 0,!0,{fileName:"/mnt/c/GitHub/ai_foundations_lms/apps/frontend/src/pages/lesson-viewer/components/NoteTaking.tsx",lineNumber:209,columnNumber:23},void 0)},void 0,!1,{fileName:"/mnt/c/GitHub/ai_foundations_lms/apps/frontend/src/pages/lesson-viewer/components/NoteTaking.tsx",lineNumber:208,columnNumber:21},void 0),e.jsxDEV("p",{className:"text-sm text-text-primary leading-relaxed",children:i.content},void 0,!1,{fileName:"/mnt/c/GitHub/ai_foundations_lms/apps/frontend/src/pages/lesson-viewer/components/NoteTaking.tsx",lineNumber:214,columnNumber:19},void 0),e.jsxDEV("div",{className:"mt-2 flex items-center space-x-2 opacity-0 group-hover:opacity-100 transition-opacity",children:[e.jsxDEV("button",{className:"text-xs text-text-secondary hover:text-primary transition-colors flex items-center",children:[e.jsxDEV(n,{"aria-hidden":"true",name:"Edit2",size:12,className:"mr-1"},void 0,!1,{fileName:"/mnt/c/GitHub/ai_foundations_lms/apps/frontend/src/pages/lesson-viewer/components/NoteTaking.tsx",lineNumber:219,columnNumber:23},void 0),"Modifier"]},void 0,!0,{fileName:"/mnt/c/GitHub/ai_foundations_lms/apps/frontend/src/pages/lesson-viewer/components/NoteTaking.tsx",lineNumber:218,columnNumber:21},void 0),e.jsxDEV("button",{className:"text-xs text-text-secondary hover:text-primary transition-colors flex items-center",children:[e.jsxDEV(n,{"aria-hidden":"true",name:"Share",size:12,className:"mr-1"},void 0,!1,{fileName:"/mnt/c/GitHub/ai_foundations_lms/apps/frontend/src/pages/lesson-viewer/components/NoteTaking.tsx",lineNumber:223,columnNumber:23},void 0),"Partager"]},void 0,!0,{fileName:"/mnt/c/GitHub/ai_foundations_lms/apps/frontend/src/pages/lesson-viewer/components/NoteTaking.tsx",lineNumber:222,columnNumber:21},void 0)]},void 0,!0,{fileName:"/mnt/c/GitHub/ai_foundations_lms/apps/frontend/src/pages/lesson-viewer/components/NoteTaking.tsx",lineNumber:217,columnNumber:19},void 0)]},i.id,!0,{fileName:"/mnt/c/GitHub/ai_foundations_lms/apps/frontend/src/pages/lesson-viewer/components/NoteTaking.tsx",lineNumber:184,columnNumber:17},void 0))},void 0,!1,{fileName:"/mnt/c/GitHub/ai_foundations_lms/apps/frontend/src/pages/lesson-viewer/components/NoteTaking.tsx",lineNumber:182,columnNumber:13},void 0)},void 0,!1,{fileName:"/mnt/c/GitHub/ai_foundations_lms/apps/frontend/src/pages/lesson-viewer/components/NoteTaking.tsx",lineNumber:163,columnNumber:9},void 0),e.jsxDEV("div",{className:"p-4 border-t border-border bg-secondary-50",children:e.jsxDEV("button",{className:"w-full flex items-center justify-center px-4 py-2 text-sm text-text-secondary hover:text-primary transition-colors",children:[e.jsxDEV(n,{"aria-hidden":"true",name:"Download",size:16,className:"mr-2"},void 0,!1,{fileName:"/mnt/c/GitHub/ai_foundations_lms/apps/frontend/src/pages/lesson-viewer/components/NoteTaking.tsx",lineNumber:236,columnNumber:13},void 0),"Exporter toutes les notes"]},void 0,!0,{fileName:"/mnt/c/GitHub/ai_foundations_lms/apps/frontend/src/pages/lesson-viewer/components/NoteTaking.tsx",lineNumber:235,columnNumber:11},void 0)},void 0,!1,{fileName:"/mnt/c/GitHub/ai_foundations_lms/apps/frontend/src/pages/lesson-viewer/components/NoteTaking.tsx",lineNumber:234,columnNumber:9},void 0)]},void 0,!0,{fileName:"/mnt/c/GitHub/ai_foundations_lms/apps/frontend/src/pages/lesson-viewer/components/NoteTaking.tsx",lineNumber:68,columnNumber:7},void 0)]},void 0,!0,{fileName:"/mnt/c/GitHub/ai_foundations_lms/apps/frontend/src/pages/lesson-viewer/components/NoteTaking.tsx",lineNumber:63,columnNumber:5},void 0)},O=({progress:N})=>e.jsxDEV("div",{className:"w-full",children:[e.jsxDEV("div",{className:"flex items-center justify-between mb-1",children:[e.jsxDEV("span",{className:"text-xs text-text-secondary",children:"Progression de la leçon"},void 0,!1,{fileName:"/mnt/c/GitHub/ai_foundations_lms/apps/frontend/src/pages/lesson-viewer/components/ProgressBar.tsx",lineNumber:11,columnNumber:9},void 0),e.jsxDEV("span",{className:"text-xs font-medium text-text-primary",children:[Math.round(N),"%"]},void 0,!0,{fileName:"/mnt/c/GitHub/ai_foundations_lms/apps/frontend/src/pages/lesson-viewer/components/ProgressBar.tsx",lineNumber:12,columnNumber:9},void 0)]},void 0,!0,{fileName:"/mnt/c/GitHub/ai_foundations_lms/apps/frontend/src/pages/lesson-viewer/components/ProgressBar.tsx",lineNumber:10,columnNumber:7},void 0),e.jsxDEV("div",{className:"w-full h-2 bg-secondary-200 rounded-full overflow-hidden",children:e.jsxDEV("div",{className:"h-full bg-gradient-to-r from-primary to-primary-600 transition-all duration-300 ease-out",style:{width:`${N}%`}},void 0,!1,{fileName:"/mnt/c/GitHub/ai_foundations_lms/apps/frontend/src/pages/lesson-viewer/components/ProgressBar.tsx",lineNumber:15,columnNumber:9},void 0)},void 0,!1,{fileName:"/mnt/c/GitHub/ai_foundations_lms/apps/frontend/src/pages/lesson-viewer/components/ProgressBar.tsx",lineNumber:14,columnNumber:7},void 0)]},void 0,!0,{fileName:"/mnt/c/GitHub/ai_foundations_lms/apps/frontend/src/pages/lesson-viewer/components/ProgressBar.tsx",lineNumber:9,columnNumber:5},void 0),I=({onPrevious:N,onNext:p,onComplete:f,onToggleNotes:c,isCompleted:m,progress:d})=>e.jsxDEV("div",{className:"bg-surface border-t border-border p-4",children:[e.jsxDEV("div",{className:"max-w-4xl mx-auto flex items-center justify-between",children:[e.jsxDEV("div",{className:"flex items-center space-x-3",children:[e.jsxDEV("button",{onClick:N,className:"flex items-center px-4 py-2 text-text-secondary hover:text-primary border border-border rounded-lg hover:bg-secondary-50 transition-colors",children:[e.jsxDEV(n,{"aria-hidden":"true",name:"ChevronLeft",size:16,className:"mr-2"},void 0,!1,{fileName:"/mnt/c/GitHub/ai_foundations_lms/apps/frontend/src/pages/lesson-viewer/components/ActionBar.tsx",lineNumber:30,columnNumber:13},void 0),e.jsxDEV("span",{className:"hidden sm:inline",children:"Précédent"},void 0,!1,{fileName:"/mnt/c/GitHub/ai_foundations_lms/apps/frontend/src/pages/lesson-viewer/components/ActionBar.tsx",lineNumber:31,columnNumber:13},void 0)]},void 0,!0,{fileName:"/mnt/c/GitHub/ai_foundations_lms/apps/frontend/src/pages/lesson-viewer/components/ActionBar.tsx",lineNumber:26,columnNumber:11},void 0),e.jsxDEV("button",{onClick:c,className:"flex items-center px-4 py-2 text-text-secondary hover:text-primary border border-border rounded-lg hover:bg-secondary-50 transition-colors",children:[e.jsxDEV(n,{"aria-hidden":"true",name:"StickyNote",size:16,className:"mr-2"},void 0,!1,{fileName:"/mnt/c/GitHub/ai_foundations_lms/apps/frontend/src/pages/lesson-viewer/components/ActionBar.tsx",lineNumber:38,columnNumber:13},void 0),e.jsxDEV("span",{className:"hidden sm:inline",children:"Notes"},void 0,!1,{fileName:"/mnt/c/GitHub/ai_foundations_lms/apps/frontend/src/pages/lesson-viewer/components/ActionBar.tsx",lineNumber:39,columnNumber:13},void 0)]},void 0,!0,{fileName:"/mnt/c/GitHub/ai_foundations_lms/apps/frontend/src/pages/lesson-viewer/components/ActionBar.tsx",lineNumber:34,columnNumber:11},void 0)]},void 0,!0,{fileName:"/mnt/c/GitHub/ai_foundations_lms/apps/frontend/src/pages/lesson-viewer/components/ActionBar.tsx",lineNumber:25,columnNumber:9},void 0),e.jsxDEV("div",{className:"hidden md:flex items-center space-x-4",children:[e.jsxDEV("div",{className:"flex items-center space-x-2",children:[e.jsxDEV(n,{"aria-hidden":"true",name:"Clock",size:16,className:"text-text-secondary"},void 0,!1,{fileName:"/mnt/c/GitHub/ai_foundations_lms/apps/frontend/src/pages/lesson-viewer/components/ActionBar.tsx",lineNumber:46,columnNumber:13},void 0),e.jsxDEV("span",{className:"text-sm text-text-secondary",children:"15 min restantes"},void 0,!1,{fileName:"/mnt/c/GitHub/ai_foundations_lms/apps/frontend/src/pages/lesson-viewer/components/ActionBar.tsx",lineNumber:47,columnNumber:13},void 0)]},void 0,!0,{fileName:"/mnt/c/GitHub/ai_foundations_lms/apps/frontend/src/pages/lesson-viewer/components/ActionBar.tsx",lineNumber:45,columnNumber:11},void 0),e.jsxDEV("div",{className:"w-32 h-2 bg-secondary-200 rounded-full overflow-hidden",children:e.jsxDEV("div",{className:"h-full bg-primary transition-all duration-300",style:{width:`${d}%`}},void 0,!1,{fileName:"/mnt/c/GitHub/ai_foundations_lms/apps/frontend/src/pages/lesson-viewer/components/ActionBar.tsx",lineNumber:51,columnNumber:13},void 0)},void 0,!1,{fileName:"/mnt/c/GitHub/ai_foundations_lms/apps/frontend/src/pages/lesson-viewer/components/ActionBar.tsx",lineNumber:50,columnNumber:11},void 0)]},void 0,!0,{fileName:"/mnt/c/GitHub/ai_foundations_lms/apps/frontend/src/pages/lesson-viewer/components/ActionBar.tsx",lineNumber:44,columnNumber:9},void 0),e.jsxDEV("div",{className:"flex items-center space-x-3",children:[m?e.jsxDEV("div",{className:"flex items-center px-4 py-2 bg-accent-100 text-accent-700 rounded-lg",children:[e.jsxDEV(n,{"aria-hidden":"true",name:"CheckCircle",size:16,className:"mr-2"},void 0,!1,{fileName:"/mnt/c/GitHub/ai_foundations_lms/apps/frontend/src/pages/lesson-viewer/components/ActionBar.tsx",lineNumber:70,columnNumber:15},void 0),e.jsxDEV("span",{children:"Terminé"},void 0,!1,{fileName:"/mnt/c/GitHub/ai_foundations_lms/apps/frontend/src/pages/lesson-viewer/components/ActionBar.tsx",lineNumber:71,columnNumber:15},void 0)]},void 0,!0,{fileName:"/mnt/c/GitHub/ai_foundations_lms/apps/frontend/src/pages/lesson-viewer/components/ActionBar.tsx",lineNumber:69,columnNumber:13},void 0):e.jsxDEV("button",{onClick:f,className:"flex items-center px-6 py-2 bg-accent text-white rounded-lg hover:bg-accent-700 transition-colors",children:[e.jsxDEV(n,{"aria-hidden":"true",name:"CheckCircle",size:16,className:"mr-2"},void 0,!1,{fileName:"/mnt/c/GitHub/ai_foundations_lms/apps/frontend/src/pages/lesson-viewer/components/ActionBar.tsx",lineNumber:65,columnNumber:15},void 0),e.jsxDEV("span",{children:"Marquer comme terminé"},void 0,!1,{fileName:"/mnt/c/GitHub/ai_foundations_lms/apps/frontend/src/pages/lesson-viewer/components/ActionBar.tsx",lineNumber:66,columnNumber:15},void 0)]},void 0,!0,{fileName:"/mnt/c/GitHub/ai_foundations_lms/apps/frontend/src/pages/lesson-viewer/components/ActionBar.tsx",lineNumber:61,columnNumber:13},void 0),e.jsxDEV("button",{onClick:p,className:"flex items-center px-4 py-2 bg-primary text-white rounded-lg hover:bg-primary-700 transition-colors",children:[e.jsxDEV("span",{className:"hidden sm:inline",children:"Suivant"},void 0,!1,{fileName:"/mnt/c/GitHub/ai_foundations_lms/apps/frontend/src/pages/lesson-viewer/components/ActionBar.tsx",lineNumber:79,columnNumber:13},void 0),e.jsxDEV(n,{"aria-hidden":"true",name:"ChevronRight",size:16,className:"ml-2"},void 0,!1,{fileName:"/mnt/c/GitHub/ai_foundations_lms/apps/frontend/src/pages/lesson-viewer/components/ActionBar.tsx",lineNumber:80,columnNumber:13},void 0)]},void 0,!0,{fileName:"/mnt/c/GitHub/ai_foundations_lms/apps/frontend/src/pages/lesson-viewer/components/ActionBar.tsx",lineNumber:75,columnNumber:11},void 0)]},void 0,!0,{fileName:"/mnt/c/GitHub/ai_foundations_lms/apps/frontend/src/pages/lesson-viewer/components/ActionBar.tsx",lineNumber:59,columnNumber:9},void 0)]},void 0,!0,{fileName:"/mnt/c/GitHub/ai_foundations_lms/apps/frontend/src/pages/lesson-viewer/components/ActionBar.tsx",lineNumber:23,columnNumber:7},void 0),e.jsxDEV("div",{className:"md:hidden mt-3 flex items-center justify-between",children:[e.jsxDEV("span",{className:"text-sm text-text-secondary",children:["Progression: ",Math.round(d),"%"]},void 0,!0,{fileName:"/mnt/c/GitHub/ai_foundations_lms/apps/frontend/src/pages/lesson-viewer/components/ActionBar.tsx",lineNumber:87,columnNumber:9},void 0),e.jsxDEV("div",{className:"flex-1 mx-4 h-2 bg-secondary-200 rounded-full overflow-hidden",children:e.jsxDEV("div",{className:"h-full bg-primary transition-all duration-300",style:{width:`${d}%`}},void 0,!1,{fileName:"/mnt/c/GitHub/ai_foundations_lms/apps/frontend/src/pages/lesson-viewer/components/ActionBar.tsx",lineNumber:89,columnNumber:11},void 0)},void 0,!1,{fileName:"/mnt/c/GitHub/ai_foundations_lms/apps/frontend/src/pages/lesson-viewer/components/ActionBar.tsx",lineNumber:88,columnNumber:9},void 0),e.jsxDEV("span",{className:"text-sm text-text-secondary",children:"15 min"},void 0,!1,{fileName:"/mnt/c/GitHub/ai_foundations_lms/apps/frontend/src/pages/lesson-viewer/components/ActionBar.tsx",lineNumber:94,columnNumber:9},void 0)]},void 0,!0,{fileName:"/mnt/c/GitHub/ai_foundations_lms/apps/frontend/src/pages/lesson-viewer/components/ActionBar.tsx",lineNumber:86,columnNumber:7},void 0)]},void 0,!0,{fileName:"/mnt/c/GitHub/ai_foundations_lms/apps/frontend/src/pages/lesson-viewer/components/ActionBar.tsx",lineNumber:22,columnNumber:5},void 0),U=({xpEarned:N,onClose:p})=>{const[f,c]=o.useState(!1),[m,d]=o.useState("enter");return o.useEffect(()=>{c(!0),d("enter");const h=setTimeout(()=>{d("celebrate")},300),l=setTimeout(()=>{d("exit")},2500),v=setTimeout(()=>{c(!1),p()},3e3);return()=>{clearTimeout(h),clearTimeout(l),clearTimeout(v)}},[p]),f?e.jsxDEV("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",children:e.jsxDEV("div",{className:`
        bg-surface rounded-2xl p-8 text-center max-w-sm mx-4 transform transition-all duration-500
        ${m==="enter"?"scale-50 opacity-0":""}
        ${m==="celebrate"?"scale-100 opacity-100":""}
        ${m==="exit"?"scale-110 opacity-0":""}
      `,children:[e.jsxDEV("div",{className:"relative mb-6",children:[e.jsxDEV("div",{className:`
            w-20 h-20 bg-gradient-to-br from-accent to-accent-700 rounded-full flex items-center justify-center mx-auto
            transform transition-transform duration-700
            ${m==="celebrate"?"animate-bounce":""}
          `,children:e.jsxDEV(n,{"aria-hidden":"true",name:"Trophy",size:32,color:"white"},void 0,!1,{fileName:"/mnt/c/GitHub/ai_foundations_lms/apps/frontend/src/pages/lesson-viewer/components/XPCelebration.tsx",lineNumber:58,columnNumber:13},void 0)},void 0,!1,{fileName:"/mnt/c/GitHub/ai_foundations_lms/apps/frontend/src/pages/lesson-viewer/components/XPCelebration.tsx",lineNumber:51,columnNumber:11},void 0),e.jsxDEV("div",{className:"absolute inset-0 pointer-events-none",children:[...Array(6)].map((h,l)=>e.jsxDEV("div",{className:`
                  absolute w-2 h-2 bg-warning rounded-full
                  ${m==="celebrate"?"animate-ping":"opacity-0"}
                `,style:{top:`${20+Math.sin(l*60*Math.PI/180)*30}%`,left:`${50+Math.cos(l*60*Math.PI/180)*30}%`,animationDelay:`${l*100}ms`}},l,!1,{fileName:"/mnt/c/GitHub/ai_foundations_lms/apps/frontend/src/pages/lesson-viewer/components/XPCelebration.tsx",lineNumber:64,columnNumber:15},void 0))},void 0,!1,{fileName:"/mnt/c/GitHub/ai_foundations_lms/apps/frontend/src/pages/lesson-viewer/components/XPCelebration.tsx",lineNumber:62,columnNumber:11},void 0)]},void 0,!0,{fileName:"/mnt/c/GitHub/ai_foundations_lms/apps/frontend/src/pages/lesson-viewer/components/XPCelebration.tsx",lineNumber:50,columnNumber:9},void 0),e.jsxDEV("h2",{className:"text-2xl font-bold text-text-primary mb-2",children:"Félicitations !"},void 0,!1,{fileName:"/mnt/c/GitHub/ai_foundations_lms/apps/frontend/src/pages/lesson-viewer/components/XPCelebration.tsx",lineNumber:81,columnNumber:9},void 0),e.jsxDEV("p",{className:"text-text-secondary mb-6",children:"Vous avez terminé cette leçon avec succès"},void 0,!1,{fileName:"/mnt/c/GitHub/ai_foundations_lms/apps/frontend/src/pages/lesson-viewer/components/XPCelebration.tsx",lineNumber:83,columnNumber:9},void 0),e.jsxDEV("div",{className:"bg-gradient-to-r from-primary-50 to-accent-50 rounded-xl p-4 mb-6",children:e.jsxDEV("div",{className:"flex items-center justify-center space-x-3",children:[e.jsxDEV("div",{className:"w-12 h-12 bg-gradient-to-br from-primary to-primary-700 rounded-full flex items-center justify-center",children:e.jsxDEV(n,{"aria-hidden":"true",name:"Zap",size:20,color:"white"},void 0,!1,{fileName:"/mnt/c/GitHub/ai_foundations_lms/apps/frontend/src/pages/lesson-viewer/components/XPCelebration.tsx",lineNumber:89,columnNumber:15},void 0)},void 0,!1,{fileName:"/mnt/c/GitHub/ai_foundations_lms/apps/frontend/src/pages/lesson-viewer/components/XPCelebration.tsx",lineNumber:88,columnNumber:13},void 0),e.jsxDEV("div",{children:[e.jsxDEV("p",{className:"text-sm text-text-secondary",children:"XP gagné"},void 0,!1,{fileName:"/mnt/c/GitHub/ai_foundations_lms/apps/frontend/src/pages/lesson-viewer/components/XPCelebration.tsx",lineNumber:92,columnNumber:15},void 0),e.jsxDEV("p",{className:"text-2xl font-bold text-primary",children:["+",N]},void 0,!0,{fileName:"/mnt/c/GitHub/ai_foundations_lms/apps/frontend/src/pages/lesson-viewer/components/XPCelebration.tsx",lineNumber:93,columnNumber:15},void 0)]},void 0,!0,{fileName:"/mnt/c/GitHub/ai_foundations_lms/apps/frontend/src/pages/lesson-viewer/components/XPCelebration.tsx",lineNumber:91,columnNumber:13},void 0)]},void 0,!0,{fileName:"/mnt/c/GitHub/ai_foundations_lms/apps/frontend/src/pages/lesson-viewer/components/XPCelebration.tsx",lineNumber:87,columnNumber:11},void 0)},void 0,!1,{fileName:"/mnt/c/GitHub/ai_foundations_lms/apps/frontend/src/pages/lesson-viewer/components/XPCelebration.tsx",lineNumber:86,columnNumber:9},void 0),e.jsxDEV("div",{className:"flex justify-center space-x-4 mb-6",children:[e.jsxDEV("div",{className:"flex flex-col items-center",children:[e.jsxDEV("div",{className:"w-10 h-10 bg-accent-100 rounded-full flex items-center justify-center mb-1",children:e.jsxDEV(n,{"aria-hidden":"true",name:"BookOpen",size:16,className:"text-accent"},void 0,!1,{fileName:"/mnt/c/GitHub/ai_foundations_lms/apps/frontend/src/pages/lesson-viewer/components/XPCelebration.tsx",lineNumber:102,columnNumber:15},void 0)},void 0,!1,{fileName:"/mnt/c/GitHub/ai_foundations_lms/apps/frontend/src/pages/lesson-viewer/components/XPCelebration.tsx",lineNumber:101,columnNumber:13},void 0),e.jsxDEV("span",{className:"text-xs text-text-secondary",children:"Leçon terminée"},void 0,!1,{fileName:"/mnt/c/GitHub/ai_foundations_lms/apps/frontend/src/pages/lesson-viewer/components/XPCelebration.tsx",lineNumber:104,columnNumber:13},void 0)]},void 0,!0,{fileName:"/mnt/c/GitHub/ai_foundations_lms/apps/frontend/src/pages/lesson-viewer/components/XPCelebration.tsx",lineNumber:100,columnNumber:11},void 0),e.jsxDEV("div",{className:"flex flex-col items-center",children:[e.jsxDEV("div",{className:"w-10 h-10 bg-warning-100 rounded-full flex items-center justify-center mb-1",children:e.jsxDEV(n,{"aria-hidden":"true",name:"Target",size:16,className:"text-warning"},void 0,!1,{fileName:"/mnt/c/GitHub/ai_foundations_lms/apps/frontend/src/pages/lesson-viewer/components/XPCelebration.tsx",lineNumber:109,columnNumber:15},void 0)},void 0,!1,{fileName:"/mnt/c/GitHub/ai_foundations_lms/apps/frontend/src/pages/lesson-viewer/components/XPCelebration.tsx",lineNumber:108,columnNumber:13},void 0),e.jsxDEV("span",{className:"text-xs text-text-secondary",children:"Objectif atteint"},void 0,!1,{fileName:"/mnt/c/GitHub/ai_foundations_lms/apps/frontend/src/pages/lesson-viewer/components/XPCelebration.tsx",lineNumber:111,columnNumber:13},void 0)]},void 0,!0,{fileName:"/mnt/c/GitHub/ai_foundations_lms/apps/frontend/src/pages/lesson-viewer/components/XPCelebration.tsx",lineNumber:107,columnNumber:11},void 0),e.jsxDEV("div",{className:"flex flex-col items-center",children:[e.jsxDEV("div",{className:"w-10 h-10 bg-primary-100 rounded-full flex items-center justify-center mb-1",children:e.jsxDEV(n,{"aria-hidden":"true",name:"TrendingUp",size:16,className:"text-primary"},void 0,!1,{fileName:"/mnt/c/GitHub/ai_foundations_lms/apps/frontend/src/pages/lesson-viewer/components/XPCelebration.tsx",lineNumber:116,columnNumber:15},void 0)},void 0,!1,{fileName:"/mnt/c/GitHub/ai_foundations_lms/apps/frontend/src/pages/lesson-viewer/components/XPCelebration.tsx",lineNumber:115,columnNumber:13},void 0),e.jsxDEV("span",{className:"text-xs text-text-secondary",children:"Progression"},void 0,!1,{fileName:"/mnt/c/GitHub/ai_foundations_lms/apps/frontend/src/pages/lesson-viewer/components/XPCelebration.tsx",lineNumber:118,columnNumber:13},void 0)]},void 0,!0,{fileName:"/mnt/c/GitHub/ai_foundations_lms/apps/frontend/src/pages/lesson-viewer/components/XPCelebration.tsx",lineNumber:114,columnNumber:11},void 0)]},void 0,!0,{fileName:"/mnt/c/GitHub/ai_foundations_lms/apps/frontend/src/pages/lesson-viewer/components/XPCelebration.tsx",lineNumber:99,columnNumber:9},void 0),e.jsxDEV("button",{onClick:p,className:"w-full bg-primary text-white py-3 rounded-lg hover:bg-primary-700 transition-colors font-medium",children:"Continuer l’apprentissage"},void 0,!1,{fileName:"/mnt/c/GitHub/ai_foundations_lms/apps/frontend/src/pages/lesson-viewer/components/XPCelebration.tsx",lineNumber:123,columnNumber:9},void 0)]},void 0,!0,{fileName:"/mnt/c/GitHub/ai_foundations_lms/apps/frontend/src/pages/lesson-viewer/components/XPCelebration.tsx",lineNumber:41,columnNumber:7},void 0)},void 0,!1,{fileName:"/mnt/c/GitHub/ai_foundations_lms/apps/frontend/src/pages/lesson-viewer/components/XPCelebration.tsx",lineNumber:40,columnNumber:5},void 0):null},q=()=>{const N=A(),[p,f]=o.useState(!1),[c,m]=o.useState(!1),[d,h]=o.useState(!1),[l,v]=o.useState(null),[g,s]=o.useState(0),[a,j]=o.useState(!1),[w,i]=o.useState([]),[D,H]=o.useState(""),[u,r]=o.useState([]);o.useEffect(()=>{(async()=>{var y;const{data:_,error:t}=await B.from("lessons").select("*").limit(1).single();t?k.error("Error fetching lesson:",t):_&&v({id:_.id,title:_.title,type:_.type||"video",duration:((y=_.duration)==null?void 0:y.toString())??"",xpReward:_.xp_reward||0,module:{id:_.module_id??"",title:"",course:{id:"",title:""}},content:{videoUrl:_.video_url,transcript:_.transcript,textContent:_.text_content},resources:Array.isArray(_.resources)?_.resources:[]});const{data:b,error:E}=await B.from("modules").select("id, title, lessons(id, title, duration)").order("id");E?k.error("Error fetching modules:",E):b&&r(b.map(P=>({id:P.id,title:P.title,lessons:(P.lessons||[]).map(S=>{var z;return{id:S.id,title:S.title,duration:((z=S.duration)==null?void 0:z.toString())??"",completed:!1,current:!1}})})))})()},[]);const x=()=>{s(100),j(!0),setTimeout(()=>j(!1),3e3)},G=()=>{k.debug("Navigating to next lesson")},C=()=>{k.debug("Navigating to previous lesson")},T=V=>{const _={id:Date.now(),content:V,timestamp:new Date().toISOString(),selectedText:D};i([...w,_])},L=()=>{const V=window.getSelection();V&&V.toString().length>0?H(V.toString()):H("")};return l?e.jsxDEV("div",{className:"min-h-screen bg-background flex flex-col pt-16",children:[e.jsxDEV("header",{className:`bg-surface border-b border-border transition-all duration-300 ${p?"h-12":"h-16"} flex items-center justify-between px-4 lg:px-6 relative z-40 fixed top-16 left-0 right-0`,children:[e.jsxDEV("div",{className:"flex items-center space-x-4",children:[e.jsxDEV("button",{onClick:()=>m(!c),className:"lg:hidden p-2 hover:bg-secondary-50 rounded-lg transition-colors",children:e.jsxDEV(n,{name:"Menu",size:20,"aria-label":"Basculer le menu"},void 0,!1,{fileName:"/mnt/c/GitHub/ai_foundations_lms/apps/frontend/src/pages/lesson-viewer/index.tsx",lineNumber:188,columnNumber:13},void 0)},void 0,!1,{fileName:"/mnt/c/GitHub/ai_foundations_lms/apps/frontend/src/pages/lesson-viewer/index.tsx",lineNumber:184,columnNumber:11},void 0),e.jsxDEV(X,{to:"/espace",className:"flex items-center space-x-2 text-text-secondary hover:text-primary transition-colors",children:[e.jsxDEV(n,{"aria-hidden":"true",name:"ArrowLeft",size:20},void 0,!1,{fileName:"/mnt/c/GitHub/ai_foundations_lms/apps/frontend/src/pages/lesson-viewer/index.tsx",lineNumber:195,columnNumber:13},void 0),e.jsxDEV("span",{className:"hidden sm:inline",children:"Retour à mon espace"},void 0,!1,{fileName:"/mnt/c/GitHub/ai_foundations_lms/apps/frontend/src/pages/lesson-viewer/index.tsx",lineNumber:196,columnNumber:13},void 0)]},void 0,!0,{fileName:"/mnt/c/GitHub/ai_foundations_lms/apps/frontend/src/pages/lesson-viewer/index.tsx",lineNumber:191,columnNumber:11},void 0)]},void 0,!0,{fileName:"/mnt/c/GitHub/ai_foundations_lms/apps/frontend/src/pages/lesson-viewer/index.tsx",lineNumber:183,columnNumber:9},void 0),e.jsxDEV("div",{className:"flex-1 max-w-md mx-4",children:e.jsxDEV(O,{progress:g},void 0,!1,{fileName:"/mnt/c/GitHub/ai_foundations_lms/apps/frontend/src/pages/lesson-viewer/index.tsx",lineNumber:201,columnNumber:11},void 0)},void 0,!1,{fileName:"/mnt/c/GitHub/ai_foundations_lms/apps/frontend/src/pages/lesson-viewer/index.tsx",lineNumber:200,columnNumber:9},void 0),e.jsxDEV("div",{className:"flex items-center space-x-2",children:[e.jsxDEV("button",{onClick:()=>f(!p),className:"p-2 hover:bg-secondary-50 rounded-lg transition-colors",children:e.jsxDEV(n,{name:p?"ChevronDown":"ChevronUp",size:20,"aria-label":p?"Déployer l'en-tête":"Réduire l'en-tête"},void 0,!1,{fileName:"/mnt/c/GitHub/ai_foundations_lms/apps/frontend/src/pages/lesson-viewer/index.tsx",lineNumber:209,columnNumber:13},void 0)},void 0,!1,{fileName:"/mnt/c/GitHub/ai_foundations_lms/apps/frontend/src/pages/lesson-viewer/index.tsx",lineNumber:205,columnNumber:11},void 0),e.jsxDEV("button",{onClick:()=>N("/espace"),className:"p-2 hover:bg-secondary-50 rounded-lg transition-colors",children:e.jsxDEV(n,{name:"X",size:20,"aria-label":"Quitter le cours"},void 0,!1,{fileName:"/mnt/c/GitHub/ai_foundations_lms/apps/frontend/src/pages/lesson-viewer/index.tsx",lineNumber:220,columnNumber:13},void 0)},void 0,!1,{fileName:"/mnt/c/GitHub/ai_foundations_lms/apps/frontend/src/pages/lesson-viewer/index.tsx",lineNumber:216,columnNumber:11},void 0)]},void 0,!0,{fileName:"/mnt/c/GitHub/ai_foundations_lms/apps/frontend/src/pages/lesson-viewer/index.tsx",lineNumber:204,columnNumber:9},void 0)]},void 0,!0,{fileName:"/mnt/c/GitHub/ai_foundations_lms/apps/frontend/src/pages/lesson-viewer/index.tsx",lineNumber:180,columnNumber:7},void 0),e.jsxDEV("div",{className:"flex-1 flex overflow-hidden mt-16",children:[e.jsxDEV(R,{isOpen:c,onClose:()=>m(!1),moduleStructure:u,currentLessonId:Number(l.id)},void 0,!1,{fileName:"/mnt/c/GitHub/ai_foundations_lms/apps/frontend/src/pages/lesson-viewer/index.tsx",lineNumber:227,columnNumber:9},void 0),e.jsxDEV("main",{className:"flex-1 flex flex-col lg:flex-row overflow-hidden",children:[e.jsxDEV("div",{className:"flex-1 flex flex-col overflow-hidden",children:[e.jsxDEV("div",{className:"flex-1 overflow-auto",onMouseUp:L,children:l.type==="video"?e.jsxDEV($,{videoUrl:l.content.videoUrl,transcript:l.content.transcript,onProgress:s},void 0,!1,{fileName:"/mnt/c/GitHub/ai_foundations_lms/apps/frontend/src/pages/lesson-viewer/index.tsx",lineNumber:240,columnNumber:17},void 0):e.jsxDEV(M,{content:l.content.textContent??"",onProgress:s},void 0,!1,{fileName:"/mnt/c/GitHub/ai_foundations_lms/apps/frontend/src/pages/lesson-viewer/index.tsx",lineNumber:246,columnNumber:17},void 0)},void 0,!1,{fileName:"/mnt/c/GitHub/ai_foundations_lms/apps/frontend/src/pages/lesson-viewer/index.tsx",lineNumber:238,columnNumber:13},void 0),l.resources&&l.resources.length>0&&e.jsxDEV("div",{className:"border-t border-border bg-surface p-4",children:[e.jsxDEV("h3",{className:"font-semibold text-text-primary mb-3 flex items-center",children:[e.jsxDEV(n,{"aria-hidden":"true",name:"Download",size:20,className:"mr-2"},void 0,!1,{fileName:"/mnt/c/GitHub/ai_foundations_lms/apps/frontend/src/pages/lesson-viewer/index.tsx",lineNumber:257,columnNumber:19},void 0),"Ressources téléchargeables"]},void 0,!0,{fileName:"/mnt/c/GitHub/ai_foundations_lms/apps/frontend/src/pages/lesson-viewer/index.tsx",lineNumber:256,columnNumber:17},void 0),e.jsxDEV("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:l.resources.map(V=>e.jsxDEV("a",{href:V.url,className:"flex items-center p-3 border border-border rounded-lg hover:bg-secondary-50 transition-colors group",children:[e.jsxDEV(n,{"aria-hidden":"true",name:V.type==="pdf"?"FileText":"Code",size:20,className:"text-primary mr-3"},void 0,!1,{fileName:"/mnt/c/GitHub/ai_foundations_lms/apps/frontend/src/pages/lesson-viewer/index.tsx",lineNumber:267,columnNumber:23},void 0),e.jsxDEV("div",{className:"flex-1",children:[e.jsxDEV("p",{className:"font-medium text-text-primary group-hover:text-primary transition-colors",children:V.title},void 0,!1,{fileName:"/mnt/c/GitHub/ai_foundations_lms/apps/frontend/src/pages/lesson-viewer/index.tsx",lineNumber:274,columnNumber:25},void 0),e.jsxDEV("p",{className:"text-sm text-text-secondary",children:V.size},void 0,!1,{fileName:"/mnt/c/GitHub/ai_foundations_lms/apps/frontend/src/pages/lesson-viewer/index.tsx",lineNumber:277,columnNumber:25},void 0)]},void 0,!0,{fileName:"/mnt/c/GitHub/ai_foundations_lms/apps/frontend/src/pages/lesson-viewer/index.tsx",lineNumber:273,columnNumber:23},void 0),e.jsxDEV(n,{"aria-hidden":"true",name:"Download",size:16,className:"text-text-secondary group-hover:text-primary transition-colors"},void 0,!1,{fileName:"/mnt/c/GitHub/ai_foundations_lms/apps/frontend/src/pages/lesson-viewer/index.tsx",lineNumber:279,columnNumber:23},void 0)]},V.id,!0,{fileName:"/mnt/c/GitHub/ai_foundations_lms/apps/frontend/src/pages/lesson-viewer/index.tsx",lineNumber:262,columnNumber:21},void 0))},void 0,!1,{fileName:"/mnt/c/GitHub/ai_foundations_lms/apps/frontend/src/pages/lesson-viewer/index.tsx",lineNumber:260,columnNumber:17},void 0)]},void 0,!0,{fileName:"/mnt/c/GitHub/ai_foundations_lms/apps/frontend/src/pages/lesson-viewer/index.tsx",lineNumber:255,columnNumber:15},void 0)]},void 0,!0,{fileName:"/mnt/c/GitHub/ai_foundations_lms/apps/frontend/src/pages/lesson-viewer/index.tsx",lineNumber:237,columnNumber:11},void 0),e.jsxDEV(F,{isOpen:d,onClose:()=>h(!1),notes:w,onAddNote:T,selectedText:D},void 0,!1,{fileName:"/mnt/c/GitHub/ai_foundations_lms/apps/frontend/src/pages/lesson-viewer/index.tsx",lineNumber:293,columnNumber:11},void 0)]},void 0,!0,{fileName:"/mnt/c/GitHub/ai_foundations_lms/apps/frontend/src/pages/lesson-viewer/index.tsx",lineNumber:235,columnNumber:9},void 0)]},void 0,!0,{fileName:"/mnt/c/GitHub/ai_foundations_lms/apps/frontend/src/pages/lesson-viewer/index.tsx",lineNumber:225,columnNumber:7},void 0),e.jsxDEV(I,{onPrevious:C,onNext:G,onComplete:x,onToggleNotes:()=>h(!d),isCompleted:g===100,progress:g},void 0,!1,{fileName:"/mnt/c/GitHub/ai_foundations_lms/apps/frontend/src/pages/lesson-viewer/index.tsx",lineNumber:304,columnNumber:7},void 0),a&&e.jsxDEV(U,{xpEarned:l.xpReward,onClose:()=>j(!1)},void 0,!1,{fileName:"/mnt/c/GitHub/ai_foundations_lms/apps/frontend/src/pages/lesson-viewer/index.tsx",lineNumber:315,columnNumber:9},void 0)]},void 0,!0,{fileName:"/mnt/c/GitHub/ai_foundations_lms/apps/frontend/src/pages/lesson-viewer/index.tsx",lineNumber:178,columnNumber:5},void 0):e.jsxDEV("div",{className:"min-h-screen bg-background flex items-center justify-center",children:e.jsxDEV("div",{className:"text-center",children:[e.jsxDEV(n,{"aria-hidden":"true",name:"Loader2",size:48,className:"animate-spin text-primary mx-auto mb-4"},void 0,!1,{fileName:"/mnt/c/GitHub/ai_foundations_lms/apps/frontend/src/pages/lesson-viewer/index.tsx",lineNumber:165,columnNumber:11},void 0),e.jsxDEV("p",{className:"text-text-secondary",children:"Chargement de la leçon..."},void 0,!1,{fileName:"/mnt/c/GitHub/ai_foundations_lms/apps/frontend/src/pages/lesson-viewer/index.tsx",lineNumber:171,columnNumber:11},void 0)]},void 0,!0,{fileName:"/mnt/c/GitHub/ai_foundations_lms/apps/frontend/src/pages/lesson-viewer/index.tsx",lineNumber:164,columnNumber:9},void 0)},void 0,!1,{fileName:"/mnt/c/GitHub/ai_foundations_lms/apps/frontend/src/pages/lesson-viewer/index.tsx",lineNumber:163,columnNumber:7},void 0)};export{q as default};
